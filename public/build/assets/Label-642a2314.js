import{_ as O}from"./App-93f94ba2.js";import{r as d,S as V,T as $,o as u,c as p,a as t,t as e,h as b,F as C,O as I,f as A,u as _,n as w}from"./app-03263d9c.js";import{_ as L}from"./FormModal-1e95105d.js";import{t as k}from"./index-17bda2d1.js";import{a as D,b as M}from"./ContactTable-630319ea.js";import"./Sidebar-0e13a0ad.js";import"./Menu-009aab99.js";import"./Modal-d968cb5e.js";import"./transition-2742b54b.js";import"./hidden-d73b7354.js";import"./use-text-value-74ca2016.js";import"./micro-task-89dcd6af.js";import"./ProfileModal-89ff529e.js";import"./FormInput-bb9f5607.js";import"./FormPhoneInput-429004f0.js";/* empty css                      */import"./FormSelect-34d68940.js";import"./tabs-7065b218.js";import"./LangToggle-fadca48b.js";import"./index-dc901c6e.js";import"./MobileSidebar-ac141bfc.js";/* empty css              */import"./pusher-772b6102.js";import"./FormImage-4bcd6c93.js";import"./debounce-51e60686.js";import"./_baseGetTag-4c14ea0a.js";import"./combobox-7fa0f0b0.js";import"./use-tree-walker-07a95138.js";import"./Dropdown-9630f924.js";import"./DropdownItem-2e9b2b3e.js";import"./Pagination-0f108323.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./AlertModal-543f4e13.js";import"./useAlertModal-bfc81e51.js";const S={class:"pt-20"},N={class:"flex justify-center space-x-8 items-center pb-6 pr-20 border-gray-300 border-b"},Z={class:"rounded-full p-1 bg-white"},B={class:"rounded-full text-3xl flex justify-center items-center h-24 w-24 capitalize"},E={class:"text-3xl"},T={class:"flex space-x-3 mt-4"},z={class:"text-[14px]"},U={class:"text-[14px]"},G={class:"pr-20 border-gray-300 border-b py-4"},H={class:"grid grid-cols-2 space-x-8 text-[14px]"},R={class:"text-right text-slate-500 pb-2"},q={class:"text-right text-slate-500 pb-2"},J={class:"p-1 bg-gray-50 text-xs rounded-lg text-gray-600"},K={__name:"ContactLabelInfo",props:["label"],setup(o){const r=o,a=d(r.label);V(()=>{a.value=r.label});const c=d(!1),g=d({name:a.value.name}),f=[{inputType:"FormInput",name:"name",label:k("name"),type:"text",className:"sm:col-span-6"}];$({test:null});const l=async()=>{I.visit("/contact-labels",{method:"delete",data:{uuids:[a.value.uuid]},preserveState:!0})},y=()=>{c.value=!0};return(m,i)=>{var h;return u(),p(C,null,[t("div",null,[t("div",S,[t("div",N,[t("div",null,[t("div",Z,[t("div",B,e(a.value.name.substring(0,1)),1)])]),t("div",null,[t("h1",E,e(a.value.name),1),t("div",T,[t("button",{class:"bg-gray-200 py-2 px-4 h-9 rounded-md flex items-center",onClick:i[0]||(i[0]=v=>y())},[t("span",z,e(m.$t("Edit")),1)]),t("button",{onClick:i[1]||(i[1]=v=>l()),class:"bg-gray-200 py-2 px-4 h-9 rounded-md flex items-center"},[t("span",U,e(m.$t("Delete")),1)])])])]),t("div",G,[t("div",H,[t("div",R,[t("span",null,e(m.$t("Label name")),1)]),t("div",null,[t("span",null,e(a.value.name),1)]),t("div",q,[t("span",null,e(m.$t("Total contacts")),1)]),t("div",null,[t("span",J,e(a.value.contact_count),1)])])])])]),b(L,{modelValue:c.value,"onUpdate:modelValue":i[2]||(i[2]=v=>c.value=v),label:m.$t("Edit label"),url:"/contact-labels/"+((h=a.value)==null?void 0:h.uuid),form:g.value,formInputs:f},null,8,["modelValue","label","url","form"])],64)}}},P={class:"bg-white md:bg-inherit md:flex md:flex-grow capitalize"},Q={class:"px-4 pt-4"},W={class:"flex justify-between mt-2"},X={class:"flex space-x-1 text-xl"},Y={class:"text-slate-500"},tt={class:"flex space-x-2 items-center"},et=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24"},[t("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[t("path",{d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12Zm10-8a8 8 0 1 0 0 16a8 8 0 0 0 0-16Z"}),t("path",{d:"M13 7a1 1 0 1 0-2 0v4H7a1 1 0 1 0 0 2h4v4a1 1 0 1 0 2 0v-4h4a1 1 0 1 0 0-2h-4V7Z"})])],-1),st=[et],lt={class:"md:w-[70%] bg-cover md:h-[100vh] flex justify-center overflow-y-scroll"},ot={key:0},at={class:"grid gap-5 mt-3"},nt=["disabled"],it={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},rt=t("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),ct=t("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[t("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),dt=[rt,ct],mt={key:1},ut={key:1,class:"md:block pt-20 hidden"},pt={class:"border py-10 w-[30em] rounded-xl bg-white"},bt={class:"text-center text-2xl text-slate-500 mb-6"},ft=t("div",{class:"flex justify-center"},[t("div",{class:"border-r border-slate-500 h-10"})],-1),vt={class:"text-center text-slate-600"},ht=t("div",{class:"flex justify-center"},[t("div",{class:"border-r border-slate-500 h-10"})],-1),xt={class:"flex justify-center space-x-4 mt-6"},Yt={__name:"Label",props:{rows:Object,filters:Object,rowCount:Number,label:Object,contact:Object,contactLabelIds:Array,allContactLabels:Object},setup(o){const r=o;d(!1);const a=window.location.href,c=d(!1),g=d(a),f=d({name:""}),l=$({labelId:"",contactLabelIds:r.contactLabelIds??d([]),processing:!1}),m=[{inputType:"FormInput",name:"name",label:k("name"),type:"text",className:"sm:col-span-6"}],i=()=>{c.value=!0,f.value.name=""},h=s=>{I.visit("/contact-labels",{method:"get",data:s})},v=s=>{list.value=s.data,f.value.name=s.data.name},j=s=>{l.contactLabelIds=[],s.forEach(n=>{l.contactLabelIds.push(n.id)})},F=()=>{l.processing=!0,l.labelId=r.label.id,l.post("/contact-labels/contact/store",{onFinish:()=>{l.processing=!1,c.value=!1}})};return(s,n)=>(u(),p(C,null,[b(O,null,{default:A(()=>[t("div",P,[t("div",{class:w(["md:w-[30%] md:flex flex-col h-full bg-white border-r border-l",o.label?"hidden":""])},[t("div",Q,[t("div",W,[t("div",X,[t("h2",null,e(s.$t("Labels")),1),t("span",Y,e(r.rowCount),1)]),t("div",tt,[t("span",{onClick:n[0]||(n[0]=x=>i()),class:"cursor-pointer",title:"Add Contact"},st)])])]),b(D,{rows:r.rows,filters:r.filters,type:"label",onCallback:h,allContactLabels:o.allContactLabels,contactLabelIds:o.contactLabelIds},null,8,["rows","filters","allContactLabels","contactLabelIds"])],2),t("div",lt,[o.label?(u(),p("div",ot,[b(K,{label:o.label},null,8,["label"]),t("div",at,[b(M,{allData:o.contact,type:"contact",selectedData:o.contactLabelIds,onContactListDataForward:j},null,8,["allData","selectedData"]),t("button",{onClick:n[1]||(n[1]=x=>F()),class:w(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":_(l).processing}]),disabled:_(l).processing,style:{"justify-self":"end"}},[_(l).processing?(u(),p("svg",it,dt)):(u(),p("span",mt,e(s.$t("Store Contact")),1))],10,nt)])])):(u(),p("div",ut,[t("div",pt,[t("h2",bt,e(s.$t("Select label")),1),ft,t("h2",vt,e(s.$t("Or")),1),ht,t("div",xt,[t("button",{onClick:n[2]||(n[2]=x=>i()),class:"bg-primary rounded-lg text-sm text-white p-2 px-8 text-center capitalize"},e(s.$t("Add label")),1)])])]))])])]),_:1}),b(L,{modelValue:c.value,"onUpdate:modelValue":n[3]||(n[3]=x=>c.value=x),label:s.$t("Add label"),url:g.value,form:f.value,formInputs:_(m),onCallback:v},null,8,["modelValue","label","url","form","formInputs"])],64))}};export{Yt as default};

import{r as y,T as h,c as m,a as n,n as l,t as c,u as t,j as v,h as u,b as M,k as J,F as K,x as X,o as p,l as Y}from"./app-03263d9c.js";import"./_baseGetTag-4c14ea0a.js";import{_ as ee}from"./AlertModal-543f4e13.js";import{_ as g}from"./FormInput-bb9f5607.js";import{_ as w}from"./FormTextArea-5647a582.js";import{_ as te}from"./FormSelect-34d68940.js";import{u as oe}from"./useAlertModal-bfc81e51.js";import{_ as re}from"./FormCheckbox-d13c5a97.js";import{l as se}from"./index-dc901c6e.js";import{t as ne}from"./index-17bda2d1.js";import"./transition-2742b54b.js";import"./hidden-d73b7354.js";import"./use-text-value-74ca2016.js";import"./micro-task-89dcd6af.js";const ae={class:"flex mb-6 mt-6 justify-between items-center"},ie={class:"flex justify-between text-sm border-b cursor-pointer",style:{width:"400px"}},le={class:"mb-6 mt-6 w-1/3",style:{width:"400px"}},de={key:0,class:""},ue={class:"mt-4 flex pb-6 border-b justify-end"},me=["disabled"],pe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},ce=n("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),fe=n("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[n("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),ge=[ce,fe],ye={key:1},be={class:""},_e={class:"mt-4 flex pb-6 border-b justify-end"},he=["disabled"],ve={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},we=n("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),xe=n("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[n("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),Ve=[we,xe],Se={key:1},Ae={class:""},Pe={class:"text-xl mb-4 pt-5"},Ce={class:"mb-4"},Ue=n("label",{for:"name",class:"block text-sm leading-6 text-gray-900"},"Thumbnail Image",-1),$e={class:"flex items-center relative"},ke={class:"rounded-full w-40 m-4",style:{"margin-left":"0px","margin-bottom":"0px"}},Re={key:0,class:"border-2 border-dashed h-16 w-40 flex rounded-lg items-center justify-center"},Fe=Y('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M2 6a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V6Z"></path><circle cx="8.5" cy="8.5" r="2.5"></circle><path d="M14.526 12.621L6 22h12.133A3.867 3.867 0 0 0 22 18.133V18c0-.466-.175-.645-.49-.99l-4.03-4.395a2 2 0 0 0-2.954.006Z"></path></g></svg>',1),ze=[Fe],qe=["src"],je={for:"file-upload",class:"cursor-pointer inline-flex justify-center rounded-md border border-transparent bg-slate-200 px-4 py-2 text-sm text-slate-700 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},Be={key:0,class:"form-error text-[#b91c1c] text-xs"},Te={class:"flex justify-end"},Me=["disabled"],Ze={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},De=n("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),Ie=n("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[n("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),We=[De,Ie],Ee={key:1},st={__name:"SettingsPage",props:["rows","filters","orgProductSettings","orgWhatsappPaySettings","orgPaymentDetailsApi"],setup(Z){var x,V,S,A,P,C,U,$,k,R,F,z,q,j,B;const d=Z,b=(x=d.orgWhatsappPaySettings)!=null&&x.thumbnail_image?y((V=d.orgWhatsappPaySettings)==null?void 0:V.thumbnail_image):y(null),f=y("physical_form"),{isOpenAlert:_,openAlert:D,confirmAlert:I}=oe(),W=async()=>{new FormData,await X.post("/remove/catalog").then(a=>{window.location.reload(),a.status===200&&se("Catalog Removed Successfully!",{autoClose:3e3})})},E=y([{label:"Razropay",value:"payment_gateway:razorpay"},{label:"PayUmoney",value:"payment_gateway:payu"}]),o=h({flow_id:(S=d.orgProductSettings)==null?void 0:S.flow_id,header:(A=d.orgProductSettings)==null?void 0:A.header,footer:(P=d.orgProductSettings)==null?void 0:P.footer,body:(C=d.orgProductSettings)==null?void 0:C.body,button_text:(U=d.orgProductSettings)==null?void 0:U.button_text,processing:!1,settingFormType:f.value}),e=h({file:($=d.orgWhatsappPaySettings)==null?void 0:$.thumbnail_image,body_content:(k=d.orgWhatsappPaySettings)==null?void 0:k.body_content,footer_content:(R=d.orgWhatsappPaySettings)==null?void 0:R.footer_content,payment_gateway:((F=d.orgWhatsappPaySettings)==null?void 0:F.payment_gateway)??"Razropay",configuration_name:(z=d.orgWhatsappPaySettings)==null?void 0:z.configuration_name,payment_success_content:(q=d.orgWhatsappPaySettings)==null?void 0:q.payment_success_content,processing:!1,settingFormType:f.value}),i=h({checkEnable:((j=d.orgPaymentDetailsApi)==null?void 0:j.check_status)??!1,apiUrl:((B=d.orgPaymentDetailsApi)==null?void 0:B.api_url)??null,processing:!1}),L=()=>{if(o.processing=!0,o.header?o.errors.header="":o.errors.header="Header field is Required",o.flow_id?o.errors.flow_id="":o.errors.flow_id="Flow Id field is Required",o.footer?o.errors.footer="":o.errors.footer="Footer field is Required",o.body?o.errors.body="":o.errors.body="Body field is Required",o.button_text?o.errors.button_text="":o.errors.button_text="Button Text field is Required",!o.header||!o.flow_id||!o.footer||!o.body||!o.button_text)return o.processing=!1,!1;o.post("/store/ecommerce/settings",{preserveScroll:!0,onSuccess:()=>{o.errors.header=o.errors.flow_id=o.errors.footer=o.errors.body=o.errors.button_text="",o.processing=!1}})},N=()=>{if(e.processing=!0,e.file?e.errors.file="":e.errors.file="Thumbnail Image field is Required",e.payment_gateway?e.errors.payment_gateway="":e.errors.payment_gateway="Payment gateway field is Required",e.footer_content?e.errors.footer_content="":e.errors.footer_content="Footer content field is Required",e.body_content?e.errors.body_content="":e.errors.body_content="Body content field is Required",e.configuration_name?e.errors.configuration_name="":e.errors.configuration_name="Configuration name field is Required",e.payment_success_content?e.errors.payment_success_content="":e.errors.payment_success_content="Transaction Confirmation Content field is Required",!e.file||!e.payment_gateway||!e.footer_content||!e.body_content||!e.configuration_name||!e.payment_success_content)return e.processing=!1,!1;e.post("/store/whatsapp-pay/settings",{preserveScroll:!0,onSuccess:()=>{e.errors.file=e.errors.payment_gateway=e.errors.footer_content=e.errors.body_content=e.errors.configuration_name=e.errors.payment_success_content="",e.processing=!1}})},G=()=>{if(i.processing=!0,i.apiUrl)i.errors.apiUrl="";else return i.errors.apiUrl="API URL field is Required",i.processing=!1,!1;if(O(i.apiUrl))i.errors.apiUrl="";else return i.errors.apiUrl="Enter a valid URL",i.processing=!1,!1;i.post("/store/apiurl",{preserveScroll:!0,onSuccess:()=>{i.processing=!1}})},H=a=>{const s=a.target.files[0];if(s&&s.size>5242880)alert(ne("file size exceeds the limit. Max allowed size:")+" 5242880b"),a.target.value=null;else{const T=new FileReader;T.onload=Q=>{b.value=Q.target.result},e.file=s,T.readAsDataURL(s)}};function O(a){var r="^(https?:\\/\\/)?((([-a-z0-9]{1,63}\\.)*?[a-z0-9]([-a-z0-9]{0,253}[a-z0-9])?\\.[a-z]{2,63})|((\\d{1,3}\\.){3}\\d{1,3}))(:\\d{1,5})?((\\/|\\?)((%[0-9a-f]{2})|[-\\w\\+\\.\\?\\/@~#&=])*)?$",s=new RegExp(r,"i");return s.test(a)}return(a,r)=>(p(),m(K,null,[n("div",ae,[n("div",ie,[n("div",{class:l(["pt-3 w-1/2 text-center pb-1 hover:bg-slate-50",{"bg-gray-50 border-b-2 border-slate-700":f.value=="physical_form"}]),onClick:r[0]||(r[0]=s=>f.value="physical_form")},c(a.$t("Physical Product")),3),n("div",{class:l(["pt-3 w-1/2 text-center pb-1 hover:bg-slate-50",{"bg-gray-50 border-b-2 border-slate-700":f.value=="digital_form"}]),onClick:r[1]||(r[1]=s=>f.value="digital_form")},c(a.$t("Digital Product")),3)]),n("div",null,[n("button",{onClick:r[2]||(r[2]=s=>t(D)()),class:"rounded-md bg-red-700 px-3 py-2 text-sm text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},c(a.$t("Remove Catalog")),1)])]),n("div",le,[n("form",{onSubmit:r[8]||(r[8]=v(s=>L(),["prevent"]))},[f.value=="physical_form"?(p(),m("div",de,[u(g,{modelValue:t(o).header,"onUpdate:modelValue":r[3]||(r[3]=s=>t(o).header=s),error:t(o).errors.header,name:a.$t("Header"),type:"text",class:l("mb-4")},null,8,["modelValue","error","name"]),u(w,{modelValue:t(o).body,"onUpdate:modelValue":r[4]||(r[4]=s=>t(o).body=s),error:t(o).errors.body,name:"Body",class:l("mb-4"),textAreaRows:4},null,8,["modelValue","error"]),u(g,{modelValue:t(o).footer,"onUpdate:modelValue":r[5]||(r[5]=s=>t(o).footer=s),error:t(o).errors.footer,name:a.$t("Footer"),type:"text",class:l("mb-4")},null,8,["modelValue","error","name"]),u(g,{modelValue:t(o).button_text,"onUpdate:modelValue":r[6]||(r[6]=s=>t(o).button_text=s),error:t(o).errors.button_text,name:a.$t("Button text"),type:"text",class:l("mb-4")},null,8,["modelValue","error","name"]),u(g,{modelValue:t(o).flow_id,"onUpdate:modelValue":r[7]||(r[7]=s=>t(o).flow_id=s),error:t(o).errors.flow_id,name:a.$t("Flow Id"),type:"text",class:l("mb-4")},null,8,["modelValue","error","name"]),n("div",ue,[n("button",{class:l(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":t(o).processing}]),disabled:t(o).processing},[t(o).processing?(p(),m("svg",pe,ge)):(p(),m("span",ye,c(a.$t("Save")),1))],10,me)])])):M("",!0)],32),n("form",{onSubmit:r[11]||(r[11]=v(s=>G(),["prevent"]))},[n("div",be,[n("h6",{class:l(["text-xl mb-4",{"pt-5":f.value=="physical_form"}])},c(a.$t("Pay Details API")),3),u(re,{modelValue:t(i).checkEnable,"onUpdate:modelValue":r[9]||(r[9]=s=>t(i).checkEnable=s),name:"API Checkbox",label:"API URL",class:l("sm:col-span-2"),required:t(i).checkEnable===1},null,8,["modelValue","required"]),u(g,{modelValue:t(i).apiUrl,"onUpdate:modelValue":r[10]||(r[10]=s=>t(i).apiUrl=s),error:t(i).errors.apiUrl,type:"text",disabled:!t(i).checkEnable},null,8,["modelValue","error","disabled"]),n("div",_e,[n("button",{class:l(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":t(i).processing}]),disabled:t(i).processing},[t(i).processing?(p(),m("svg",ve,Ve)):(p(),m("span",Se,c(a.$t("Save")),1))],10,he)])])],32),n("form",{onSubmit:r[17]||(r[17]=v(s=>N(),["prevent"]))},[n("div",Ae,[n("h6",Pe,c(a.$t("WhatsApp Pay Settings")),1),n("div",Ce,[Ue,n("div",$e,[n("div",ke,[t(b)===null?(p(),m("div",Re,ze)):(p(),m("img",{key:1,class:"w-40 h-40 rounded-lg object-cover",src:t(b),alt:"Contact Image"},null,8,qe))]),n("input",{type:"file",class:"sr-only",accept:"image/*",id:"file-upload",onChange:H},null,32),n("label",je,c(a.$t("Upload image")),1)]),t(e).errors.file?(p(),m("div",Be,c(t(e).errors.file),1)):M("",!0)]),u(w,{modelValue:t(e).body_content,"onUpdate:modelValue":r[12]||(r[12]=s=>t(e).body_content=s),error:t(e).errors.body_content,name:"Body Content",class:l("mb-4"),textAreaRows:4},null,8,["modelValue","error"]),u(g,{modelValue:t(e).footer_content,"onUpdate:modelValue":r[13]||(r[13]=s=>t(e).footer_content=s),error:t(e).errors.footer_content,name:a.$t("Footer Content"),type:"text",class:l("mb-4")},null,8,["modelValue","error","name"]),u(te,{modelValue:t(e).payment_gateway,"onUpdate:modelValue":r[14]||(r[14]=s=>t(e).payment_gateway=s),error:t(e).errors.payment_gateway,options:E.value,name:a.$t("Payment Gateway"),class:l("mb-4"),placeholder:a.$t("Select Payment Gateway"),relativeFlag:!0},null,8,["modelValue","error","options","name","placeholder"]),u(g,{modelValue:t(e).configuration_name,"onUpdate:modelValue":r[15]||(r[15]=s=>t(e).configuration_name=s),error:t(e).errors.configuration_name,name:a.$t("Configuration Name"),type:"text",class:l("mb-4")},null,8,["modelValue","error","name"]),u(w,{modelValue:t(e).payment_success_content,"onUpdate:modelValue":r[16]||(r[16]=s=>t(e).payment_success_content=s),error:t(e).errors.payment_success_content,name:"Transaction Confirmation Content",class:l("mb-4"),textAreaRows:2},null,8,["modelValue","error"]),n("div",Te,[n("button",{class:l(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":t(e).processing}]),disabled:t(e).processing},[t(e).processing?(p(),m("svg",Ze,We)):(p(),m("span",Ee,c(a.$t("Save")),1))],10,Me)])])],32)]),u(ee,{modelValue:t(_),"onUpdate:modelValue":r[18]||(r[18]=s=>J(_)?_.value=s:null),onConfirm:r[19]||(r[19]=()=>t(I)(W)),label:a.$t("Delete Catalog"),description:a.$t("Are you sure you want to delete the Catalog? This action can not be undone")},null,8,["modelValue","label","description"])],64))}};export{st as default};

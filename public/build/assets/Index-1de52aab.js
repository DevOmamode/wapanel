import{D as pe,r as b,V as Ve,m as ae,q as me,R as Me,S as Se,W as Te,o as r,c as f,h as s,f as p,g as N,t as d,F as J,d as K,e as E,u as a,a as e,b as T,k as ne,l as Ne,x as re,n as S,T as Ae,O as ot,w as st,v as nt,Z as rt,j as ce}from"./app-03263d9c.js";import{_ as it}from"./App-93f94ba2.js";import{t as xe}from"./index-17bda2d1.js";import"./_baseGetTag-4c14ea0a.js";import{_ as Fe}from"./AlertModal-543f4e13.js";import{u as Ue}from"./useAlertModal-bfc81e51.js";import{_ as Re}from"./Table-992b3240.js";import{T as je,a as Be,_ as H}from"./TableHeaderRowItem-d69b56f6.js";import{T as Oe,a as ze,_ as Z}from"./TableBodyRowItem-4927bcdc.js";import{_ as dt}from"./Dropdown-9630f924.js";import{_ as ut,a as de}from"./DropdownItem-2e9b2b3e.js";import{_ as ct}from"./FormToggleSwitch-cb520103.js";import{l as ie}from"./index-dc901c6e.js";/* empty css              */import{_ as Le}from"./Modal-d968cb5e.js";import{_ as j}from"./FormInput-bb9f5607.js";import{r as We,a as Ee,_ as pt}from"./FormSelect-34d68940.js";import{d as mt}from"./debounce-51e60686.js";import"./style-9f0cc499.js";import{_ as ft}from"./FormTextArea-5647a582.js";import{Q as Ie,G as He,X as Ze,Y as Je,J as Pe}from"./combobox-7fa0f0b0.js";import{S as Ge}from"./transition-2742b54b.js";import{t as De,u as $e,o as te,H as fe,i as ht,b as Ce,d as se}from"./hidden-d73b7354.js";import{c as vt,l as ue,p as wt}from"./use-text-value-74ca2016.js";import"./Sidebar-0e13a0ad.js";import"./Menu-009aab99.js";import"./ProfileModal-89ff529e.js";import"./FormPhoneInput-429004f0.js";/* empty css                      */import"./tabs-7065b218.js";import"./micro-task-89dcd6af.js";import"./LangToggle-fadca48b.js";import"./MobileSidebar-ac141bfc.js";import"./pusher-772b6102.js";import"./Pagination-0f108323.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./use-tree-walker-07a95138.js";var gt=(y=>(y[y.Open=0]="Open",y[y.Closed=1]="Closed",y))(gt||{});let qe=Symbol("DisclosureContext");function he(y){let U=Te(qe,null);if(U===null){let $=new Error(`<${y} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace($,he),$}return U}let Ye=Symbol("DisclosurePanelContext");function bt(){return Te(Ye,null)}let _t=pe({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(y,{slots:U,attrs:$}){let k=b(y.defaultOpen?0:1),m=b(null),R=b(null),n={buttonId:b(`headlessui-disclosure-button-${De()}`),panelId:b(`headlessui-disclosure-panel-${De()}`),disclosureState:k,panel:m,button:R,toggleDisclosure(){k.value=$e(k.value,{0:1,1:0})},closeDisclosure(){k.value!==1&&(k.value=1)},close(h){n.closeDisclosure();let C=(()=>h?h instanceof HTMLElement?h:h.value instanceof HTMLElement?te(h):te(n.button):te(n.button))();C==null||C.focus()}};return Ve(qe,n),vt(ae(()=>$e(k.value,{0:ue.Open,1:ue.Closed}))),()=>{let{defaultOpen:h,...C}=y,x={open:k.value===0,close:n.close};return fe({theirProps:C,ourProps:{},slot:x,slots:U,attrs:$,name:"Disclosure"})}}}),yt=pe({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(y,{attrs:U,slots:$,expose:k}){let m=he("DisclosureButton"),R=bt(),n=ae(()=>R===null?!1:R.value===m.panelId.value);me(()=>{n.value||y.id!==null&&(m.buttonId.value=y.id)}),Me(()=>{n.value||(m.buttonId.value=null)});let h=b(null);k({el:h,$el:h}),n.value||Se(()=>{m.button.value=h.value});let C=ht(ae(()=>({as:y.as,type:U.type})),h);function x(){var g;y.disabled||(n.value?(m.toggleDisclosure(),(g=te(m.button))==null||g.focus()):m.toggleDisclosure())}function t(g){var B;if(!y.disabled)if(n.value)switch(g.key){case se.Space:case se.Enter:g.preventDefault(),g.stopPropagation(),m.toggleDisclosure(),(B=te(m.button))==null||B.focus();break}else switch(g.key){case se.Space:case se.Enter:g.preventDefault(),g.stopPropagation(),m.toggleDisclosure();break}}function u(g){switch(g.key){case se.Space:g.preventDefault();break}}return()=>{var g;let B={open:m.disclosureState.value===0},{id:w,...F}=y,D=n.value?{ref:h,type:C.value,onClick:x,onKeydown:t}:{id:(g=m.buttonId.value)!=null?g:w,ref:h,type:C.value,"aria-expanded":m.disclosureState.value===0,"aria-controls":m.disclosureState.value===0||te(m.panel)?m.panelId.value:void 0,disabled:y.disabled?!0:void 0,onClick:x,onKeydown:t,onKeyup:u};return fe({ourProps:D,theirProps:F,slot:B,attrs:U,slots:$,name:"DisclosureButton"})}}}),kt=pe({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(y,{attrs:U,slots:$,expose:k}){let m=he("DisclosurePanel");me(()=>{y.id!==null&&(m.panelId.value=y.id)}),Me(()=>{m.panelId.value=null}),k({el:m.panel,$el:m.panel}),Ve(Ye,m.panelId);let R=wt(),n=ae(()=>R!==null?(R.value&ue.Open)===ue.Open:m.disclosureState.value===0);return()=>{var h;let C={open:m.disclosureState.value===0,close:m.close},{id:x,...t}=y,u={id:(h=m.panelId.value)!=null?h:x,ref:m.panel};return fe({ourProps:u,theirProps:t,slot:C,attrs:U,slots:$,features:Ce.RenderStrategy|Ce.Static,visible:n.value,name:"DisclosurePanel"})}}});const xt={key:0,class:"flex gap-1"},Dt=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"#034737",class:"icon icon-tabler icons-tabler-filled icon-tabler-circle-check"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"})],-1),$t={key:1,class:"flex gap-1"},Ct=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"#6c757d",class:"icon icon-tabler icons-tabler-filled icon-tabler-circle-x"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z"})],-1),Vt=e("button",{class:"inline-flex w-full justify-center rounded-md text-sm font-medium text-black hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},[e("span",{class:"hover:bg-[#F6F7F9] hover:rounded-full w-[fit-content] p-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 16a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2Z"})])])],-1),Mt={key:0,class:"bg-white rounded-xl"},St={class:"p-4 py-8"},Tt=Ne('<div class="flex justify-center mb-4"><svg xmlns="http://www.w3.org/2000/svg" width="72" height="72" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-webhook"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4.876 13.61a4 4 0 1 0 6.124 3.39h6"></path><path d="M15.066 20.502a4 4 0 1 0 1.934 -7.502c-.706 0 -1.424 .179 -2 .5l-3 -5.5"></path><path d="M16 8a4 4 0 1 0 -8 0c0 1.506 .77 2.818 2 3.5l-3 5.5"></path></svg></div>',1),Nt={class:"text-center text-lg font-medium mb-4"},At={class:"flex justify-center"},Ft={__name:"WebhookTable",props:{rows:{type:Object,required:!0},filters:{type:Object}},emits:["edit","copyUrl","delete","openModal"],setup(y,{expose:U,emit:$}){const k=y,{isOpenAlert:m,openAlert:R,confirmAlert:n}=Ue(),h=$,C=async w=>{try{const F=await re.delete(`/whatsapp/workflow/${w}`);if(F.status===200&&F.data.success){const D=k.rows.data.findIndex(W=>W.uuid===w);k.rows.data.splice(D,1)}ie(F.data.message,{autoClose:3e3}),h("delete",!0)}catch{}};function x(w){h("edit",{data:w})}const t=async w=>{h("copyUrl",w),ie("Webhook URL Copied!",{autoClose:3e3})},u=async(w,F)=>{const D=new FormData;D.append("uuid",w),D.append("status",F),await re.post("/status/update",D)},g=w=>{var F=k.rows.data.findIndex(D=>D.uuid==w.uuid);F!=-1&&(k.rows.data[F]=w.workflowDetail)},B=()=>{h("openModal")};return U({verified:g}),(w,F)=>(r(),f(J,null,[s(Re,{rows:y.rows},{default:p(()=>[s(je,null,{default:p(()=>[s(Be,null,{default:p(()=>[s(H,{position:"first"},{default:p(()=>[N(d(w.$t("Workflow")),1)]),_:1}),s(H,null,{default:p(()=>[N(d(w.$t("Template")),1)]),_:1}),s(H,null,{default:p(()=>[N(d(w.$t("Status")),1)]),_:1}),s(H,null,{default:p(()=>[N(d(w.$t("Verified")),1)]),_:1}),s(H,null,{default:p(()=>[N(d(w.$t("Targeted")),1)]),_:1}),s(H,null,{default:p(()=>[N(d(w.$t("Delivered")),1)]),_:1}),s(H,null,{default:p(()=>[N(d(w.$t("Failed")),1)]),_:1}),s(H,null,{default:p(()=>[N(d(w.$t("Actions")),1)]),_:1})]),_:1})]),_:1}),s(Oe,null,{default:p(()=>[(r(!0),f(J,null,K(y.rows.data,(D,W)=>(r(),E(ze,{key:W},{default:p(()=>[s(Z,{position:"first",class:"capitalize"},{default:p(()=>[N(d(D.name),1)]),_:2},1024),s(Z,{class:"hidden sm:table-cell"},{default:p(()=>[N(d(D.template_name),1)]),_:2},1024),s(Z,{class:"hidden sm:table-cell"},{default:p(()=>[s(ct,{onClick:I=>u(D.uuid,D.status),modelValue:D.status,"onUpdate:modelValue":I=>D.status=I},null,8,["onClick","modelValue","onUpdate:modelValue"])]),_:2},1024),s(Z,{class:"capitalize hidden sm:table-cell"},{default:p(()=>[D.verified==1?(r(),f("span",xt,[Dt,N(" "+d(w.$t("Yes")),1)])):(r(),f("span",$t,[Ct,N(" "+d(w.$t("No")),1)]))]),_:2},1024),s(Z,{class:"hidden text-blue-600 sm:table-cell"},{default:p(()=>[N(d(D.total_call),1)]),_:2},1024),s(Z,{class:"hidden text-green-600 sm:table-cell"},{default:p(()=>[N(d(D.total_success),1)]),_:2},1024),s(Z,{class:"hidden text-red-600 sm:table-cell"},{default:p(()=>[N(d(D.total_error),1)]),_:2},1024),s(Z,null,{default:p(()=>[s(dt,{align:"right",class:"mt-2"},{items:p(()=>[s(ut,null,{default:p(()=>[s(de,{as:"button",onClick:I=>t(D.webhookUrl)},{default:p(()=>[N(d(w.$t("Copy URL")),1)]),_:2},1032,["onClick"]),s(de,{as:"button",onClick:I=>x(D)},{default:p(()=>[N(d(w.$t("Edit")),1)]),_:2},1032,["onClick"]),s(de,{as:"a",href:"/whatsapp/workflow/"+D.uuid},{default:p(()=>[N(d(w.$t("Report")),1)]),_:2},1032,["href"]),s(de,{as:"button",onClick:I=>a(R)(D.uuid)},{default:p(()=>[N(d(w.$t("Delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:p(()=>[Vt]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["rows"]),y.rows.data.length==0?(r(),f("div",Mt,[e("div",St,[Tt,e("h3",Nt,d(w.$t("You don't have any Workflow")),1),e("div",At,[e("button",{onClick:F[0]||(F[0]=D=>B()),class:"rounded-md bg-primary px-3 py-2 text-sm text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},d(w.$t("Create")),1)])])])):T("",!0),s(Fe,{modelValue:a(m),"onUpdate:modelValue":F[1]||(F[1]=D=>ne(m)?m.value=D:null),onConfirm:F[2]||(F[2]=()=>a(n)(C)),label:w.$t("Delete row"),description:w.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},Ut={class:"top-16 w-72"},Rt={class:"relative mt-1"},jt={class:"relative w-full overflow-hidden rounded-lg bg-white text-left shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm"},Bt={key:0,class:"relative select-none px-4 py-2 text-gray-700"},ee={__name:"WorkflowComboBox",props:["templateDetails","index","type","initData"],emits:["templateDataForward"],setup(y,{emit:U}){const $=y;let k=$.initData?b($.templateDetails.find(x=>x.value==$.initData)):$.type=="subscriber_name"?b(""):b($.templateDetails[0]),m=b(""),R=ae(()=>m.value===""?$.templateDetails:$.templateDetails.filter(x=>x.name.toLowerCase().replace(/\s+/g,"").includes(m.value.toLowerCase().replace(/\s+/g,""))));const n=U,h=b({}),C=x=>{h.value={},h.value.index=$.index,h.value.type=$.type,h.value.value=x.value,n("templateDataForward",h.value)};return(x,t)=>(r(),f("div",Ut,[s(a(Pe),{modelValue:a(k),"onUpdate:modelValue":[t[2]||(t[2]=u=>ne(k)?k.value=u:k=u),t[3]||(t[3]=u=>C(a(k)))]},{default:p(()=>[e("div",Rt,[e("div",jt,[s(a(Ie),{class:"w-full outline-none border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0",placeholder:"Select option",displayValue:u=>u.name,onChange:t[0]||(t[0]=u=>ne(m)?m.value=u.target.value:m=u.target.value)},null,8,["displayValue"]),s(a(He),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:p(()=>[s(a(We),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),s(a(Ge),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:t[1]||(t[1]=u=>ne(m)?m.value="":m="")},{default:p(()=>[s(a(Ze),{class:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",style:{"z-index":"1"}},{default:p(()=>[a(R).length===0&&a(m)!==""?(r(),f("div",Bt," Nothing found. ")):T("",!0),(r(!0),f(J,null,K(a(R),(u,g)=>(r(),E(a(Je),{as:"template",key:g,value:u},{default:p(({selected:B,active:w})=>[e("li",{class:S(["relative select-none py-2 pl-10 pr-4",{"bg-teal-600 text-white":w,"text-gray-900":!w}])},[e("span",{class:S(["block truncate",{"font-medium":B,"font-normal":!B}])},d(u.name),3),B?(r(),f("span",{key:0,class:S(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":w,"text-teal-600":!w}])},[s(a(Ee),{class:"h-5 w-5","aria-hidden":"true"})],2)):T("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])]))}},Ot={class:"relative"},zt={class:"relative w-full overflow-hidden rounded-lg bg-white text-left shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm"},Lt={key:0,class:"relative select-none px-4 py-2 text-gray-700"},Wt={__name:"DataFormatterComboBox",emits:["dataFormatter"],setup(y,{emit:U}){const $=[{id:1,name:"Concat Left",slug:"concat_left",content:{main_content:"Add text to the left separated by a glue.",italic_content:"( phoneNumber => +phoneNumber )"}},{id:2,name:"Concat List Items",slug:"concat_list_items",content:{main_content:"Using a separator, combine particular index values of a list item to produce a single value."}},{id:3,name:"Concat Right",slug:"concat_right",content:{main_content:"Add text to the right separated by a glue.",italic_content:"( firstName => firstName lastName )"}},{id:4,name:"Day Add",slug:"day_add",content:{main_content:"Add one or more day with a date value.",italic_content:"( 2000-01-01 00:00:00 + 30 = 2000-01-31 00:00:00 )"}},{id:5,name:"Day Subtract",slug:"day_subtract",content:{main_content:"Subtract one or more day from a date value.",italic_content:"( 2000-01-31 00:00:00 -30 = 2000-01-01 00:00:00 )"}},{id:6,name:"Default Value",slug:"default_value",content:{main_content:"If the value is blank or not found, use a pre-defined value."}},{id:7,name:"Format Number",slug:"format_number",content:{main_content:"Use decimal places and separators to format a numerical value.",italic_content:"( 12345.6589 => 12,345.66 )"}},{id:8,name:"Number Add",slug:"number_add",content:{main_content:"Add a number to a numeric value.",italic_content:"( 999+1000 = 1999 )"}},{id:9,name:"Number Multiply",slug:"number_multiply",content:{main_content:"Multiply a number with a numeric value.",italic_content:"( 9*10 = 90 )"}},{id:10,name:"Number Subtract",slug:"number_subtract",content:{main_content:"Subtract a number from a numeric value.",italic_content:"( 1999-1000 = 999 )"}},{id:11,name:"Replace",slug:"replace",content:{main_content:"Search for a given text in value, then replace every instance with a different value.",italic_content:"( search@search.com => replace@replace.com)"}},{id:12,name:"Shorten",slug:"shorten",content:{main_content:"To make a value shorter, keep the first few characters and eliminate the rest.",italic_content:"( this is how it works => this is how it... )"}},{id:13,name:"Split",slug:"split",content:{main_content:"Split a value using a separator to convert it to list and then take a specific index value.",italic_content:"( firstName-middleName-lastName => middleName )"}},{id:14,name:"Static Value",slug:"static_value",content:{main_content:"Replace the original dynamic value with a pre-defined static value."}},{id:15,name:"Trim Left",slug:"trim_left",content:{main_content:"Remove a specific text from the left.",italic_content:"( +phoneNumber => phoneNumber )"}},{id:16,name:"Trim Right",slug:"trim_right",content:{main_content:"Remove a specific text from the right.",italic_content:"( example@example.com => example )"}}];b($[0]);const k=b(""),m=U,R=ae(()=>k.value===""?$:$.filter(h=>h.name.toLowerCase().includes(k.value.toLowerCase()))),n=h=>{m("dataFormatter",h??null)};return(h,C)=>(r(),E(a(Pe),{modelValue:h.selected,"onUpdate:modelValue":[C[2]||(C[2]=x=>h.selected=x),C[3]||(C[3]=x=>n(h.selected))],nullable:""},{default:p(()=>[e("div",Ot,[e("div",zt,[s(a(Ie),{class:"w-full outline-none border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0",placeholder:"Select Action",displayValue:x=>x==null?void 0:x.name,onChange:C[0]||(C[0]=x=>k.value=x.target.value)},null,8,["displayValue"]),s(a(He),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:p(()=>[s(a(We),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),s(a(Ge),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:C[1]||(C[1]=x=>k.value="")},{default:p(()=>[s(a(Ze),{class:"absolute mt-1 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",style:{zIndex:1,minHeight:"120px",maxHeight:"14rem",height:"100%"}},{default:p(()=>[R.value.length===0&&k.value!==""?(r(),f("div",Lt," Nothing found. ")):T("",!0),(r(!0),f(J,null,K(R.value,(x,t)=>(r(),E(a(Je),{as:"template",key:t,value:x},{default:p(({selected:u,active:g})=>[e("li",{class:S(["relative select-none py-2 pl-10 pr-4",{"bg-teal-600 text-white":g,"text-gray-900":!g}])},[e("span",{class:S(["block truncate",{"font-medium":u,"font-normal":!u}])},d(x.name),3),u?(r(),f("span",{key:0,class:S(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":g,"text-teal-600":!g}])},[s(a(Ee),{class:"h-5 w-5","aria-hidden":"true"})],2)):T("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}};const Et={class:"bg-white md:bg-inherit rounded-[5px] text-[#000] h-auto md:overflow-y-auto border my-10 workflowDetils"},It={class:"border-b px-5 pt-5"},Ht={class:"text-xl mb-1"},Zt={class:"mb-6 flex items-center text-sm leading-6"},Jt={class:"ml-1 mt-1"},Pt={class:"p-5 workflowCallbackURL"},Gt={class:"flex justify-between pb-5"},qt={class:"text-xl mb-1"},Yt={class:"mb-6 flex justify-between webhookUrl"},Kt={class:"flex items-center text-sm leading-6"},Xt={class:"ml-1 mt-1"},Qt={class:"flex justify-end"},ea=["disabled"],ta={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},aa=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),la=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),oa=[aa,la],sa={key:1,class:"flex items-center gap-1"},na=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",class:"icon icon-tabler icons-tabler-filled icon-tabler-circle-check"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"})],-1),ra={class:"flex gap-6"},ia={class:"md:w-3/5 h-[fit-content] md:block hidden"},da={class:"bg-white border border-slate-200 h-[fit-content] md:block hidden mb-10"},ua={class:"p-5"},ca={class:"mb-1 text-xl"},pa={key:0,class:"flex-1 pb-10"},ma={class:"mt-3 mx-4"},fa={class:"flex items-center gap-4 p-5 pb-0"},ha={key:0,class:"mt-3 mx-4"},va={key:1,class:"mt-3 mx-4"},wa={key:2,class:"mt-3 mx-4"},ga={key:3,class:"mt-3 mx-4"},ba={key:1,class:"flex flex-1 items-center justify-center pb-10"},_a=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"}),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})])],-1),ya=[_a],ka={class:"bg-white border border-slate-200 h-[fit-content] md:block hidden mb-10"},xa={class:"p-5"},Da={class:"mb-1 text-xl"},$a={key:0,class:"flex-1"},Ca={class:"mt-3 mx-4"},Va={class:"flex items-center gap-4 p-5 pb-10"},Ma={key:1,class:"flex flex-1 items-center justify-center pb-10"},Sa=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"}),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})])],-1),Ta=[Sa],Na={class:"md:w-2/5 h-[fit-content] md:block hidden"},Aa={class:"bg-white border border-slate-200 p-5"},Fa={class:"text-xl mb-1"},Ua={class:"mb-6 flex items-center text-sm leading-6"},Ra={class:"ml-1 mt-1"},ja={class:"flex justify-between mb-4"},Ba={class:"md:bg-white flex items-center border border-primary md:border-none md:shadow-sm h-12 md:h-10 w-full md:w-80 rounded-[0.5rem] text-xl md:text-sm"},Oa=e("span",{class:"pl-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m15 15l6 6m-11-4a7 7 0 1 1 0-14a7 7 0 0 1 0 14Z"})])],-1),za=["placeholder"],La=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2zm3.7 12.3c.4.4.4 1 0 1.4c-.4.4-1 .4-1.4 0L12 13.4l-2.3 2.3c-.4.4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4l2.3-2.3l-2.3-2.3c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0l2.3 2.3l2.3-2.3c.4-.4 1-.4 1.4 0c.4.4.4 1 0 1.4L13.4 12l2.3 2.3z"})],-1),Wa=[La],Ea={key:1,class:"pr-2"},Ia=Ne('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="0 12 12;90 12 12;180 12 12;270 12 12"></animateTransform><animate attributeName="opacity" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.2s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="30 12 12;120 12 12;210 12 12;300 12 12"></animateTransform><animate attributeName="opacity" begin="0.2s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.4s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="60 12 12;150 12 12;240 12 12;330 12 12"></animateTransform><animate attributeName="opacity" begin="0.4s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle></svg>',1),Ha=[Ia],Za=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",class:"icon icon-tabler icons-tabler-filled icon-tabler-circle-plus"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M4.929 4.929a10 10 0 1 1 14.141 14.141a10 10 0 0 1 -14.14 -14.14zm8.071 4.071a1 1 0 1 0 -2 0v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0 -2h-2v-2z"})],-1),Ja=["onClick"],Pa=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"#b91c1c",class:"icon icon-tabler icons-tabler-filled icon-tabler-trash"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M20 6a1 1 0 0 1 .117 1.993l-.117 .007h-.081l-.919 11a3 3 0 0 1 -2.824 2.995l-.176 .005h-8c-1.598 0 -2.904 -1.249 -2.992 -2.75l-.005 -.167l-.923 -11.083h-.08a1 1 0 0 1 -.117 -1.993l.117 -.007h16z"}),e("path",{d:"M14 2a2 2 0 0 1 2 2a1 1 0 0 1 -1.993 .117l-.007 -.117h-4l-.007 .117a1 1 0 0 1 -1.993 -.117a2 2 0 0 1 1.85 -1.995l.15 -.005h4z"})],-1),Ga=[Pa],qa={class:"bg-white border border-slate-200 p-5"},Ya={class:"text-xl mb-1"},Ka={class:"mb-6 flex items-center text-sm leading-6"},Xa={class:"ml-1 mt-1"},Qa={key:0,class:"flex-1 py-5"},el=["disabled"],tl={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},al=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),ll=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),ol=[al,ll],sl={key:1,class:"flex items-center gap-1"},nl=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-save"},[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})],-1),rl={class:"grid grid-cols-1 gap-x-6 gap-y-4"},il={class:"px-8 py-4"},dl={class:"grid gap-x-6 gap-y-4 modalFormGrid mb-6"},ul={class:S("sm:col-span-6")},cl={for:"name",class:"block text-sm leading-6 text-gray-900"},pl={key:0,class:"grid gap-x-6 gap-y-4 modalFormGrid mb-6"},ml={key:1,class:"grid gap-x-6 gap-y-4 singleGrid mb-6"},fl={key:2,class:"grid gap-x-6 gap-y-4 singleGrid mb-6"},hl={key:3,class:"grid gap-x-6 gap-y-4 modalFormGrid mb-6"},vl={key:4,class:"grid gap-x-6 gap-y-4 singleGrid mb-6"},wl={key:5,class:"grid gap-x-6 gap-y-4 modalFormGrid mb-6"},gl={key:6,class:"grid gap-x-6 gap-y-4 singleGrid mb-6"},bl={key:7,class:"grid gap-x-6 gap-y-4 singleGrid mb-6"},_l={key:8,class:"grid gap-x-6 gap-y-4 singleGrid mb-6"},yl={key:9,class:"alert-light-warning bor border border-dashed border-warning flex gap-3 items-center p-5 relative mt-5",style:{"border-radius":"4px"}},kl=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42",height:"42",viewBox:"0 0 24 24",fill:"#fdac41",class:"icon icon-tabler icons-tabler-filled icon-tabler-info-circle"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M12 2c5.523 0 10 4.477 10 10a10 10 0 0 1 -19.995 .324l-.005 -.324l.004 -.28c.148 -5.393 4.566 -9.72 9.996 -9.72zm0 9h-1l-.117 .007a1 1 0 0 0 0 1.986l.117 .007v3l.007 .117a1 1 0 0 0 .876 .876l.117 .007h1l.117 -.007a1 1 0 0 0 .876 -.876l.007 -.117l-.007 -.117a1 1 0 0 0 -.764 -.857l-.112 -.02l-.117 -.006v-3l-.007 -.117a1 1 0 0 0 -.876 -.876l-.117 -.007zm.01 -3l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z"})])],-1),xl=e("h5",{class:"mb-2 text-[18px] text-warning"}," Use Case ",-1),Dl={class:"text-[14px]"},$l=e("br",null,null,-1),Cl=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-x"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M18 6l-12 12"}),e("path",{d:"M6 6l12 12"})],-1),Vl=[Cl],Ml={key:10,class:"alert-light-info bor border border-dashed border-info flex gap-3 items-center p-5 relative mt-5",style:{"border-radius":"4px"}},Sl=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42",height:"42",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-keyboard"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M2 6m0 2a2 2 0 0 1 2 -2h16a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-16a2 2 0 0 1 -2 -2z"}),e("path",{d:"M6 10l0 .01"}),e("path",{d:"M10 10l0 .01"}),e("path",{d:"M14 10l0 .01"}),e("path",{d:"M18 10l0 .01"}),e("path",{d:"M6 14l0 .01"}),e("path",{d:"M18 14l0 .01"}),e("path",{d:"M10 14l4 .01"})])],-1),Tl=e("div",null,[e("h5",{class:"mb-2 text-[18px]"}," How to use `Whitespace` ? "),e("p",{class:"text-[14px]"}," You can use whitespace as parameter value. Just type [space] as parameter value. ")],-1),Nl=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-x"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M18 6l-12 12"}),e("path",{d:"M6 6l12 12"})],-1),Al=[Nl],Fl={class:"border-t flex mt-4 px-8 py-4"},Ul=["disabled"],Rl={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},jl=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),Bl=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),Ol=[jl,Bl],zl={key:1,class:"flex items-center gap-1"},Ll=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-save"},[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})],-1),Wl={__name:"WorkflowDetails",props:["workflowDetail","chatLimitReached","templates","settings","dataFormatterRows"],emits:["copyUrl","verified_data"],setup(y,{expose:U,emit:$}){var ye,ke;const{isOpenAlert:k,openAlert:m,confirmAlert:R}=Ue(),n=y;n.dataFormatterRows=b([]),b(null);const h=b(!1),C=b(!1),x=b("Copy");b(n.chatLimitReached);const t=Ae({name:null,action:null,glue:null,concat:null,position:null,day:null,default:null,decimal:null,decimal_separator:null,thousand_separator:null,number:null,search:null,replace:null,shorten:null,separator:null,value:null,trim:null}),u=b(n.settings.metadata);b(u.value?JSON.parse(u.value):null);const g=n.workflowDetail.workflow_data?b(JSON.parse(n.workflowDetail.workflow_data)):b([{type:"phone_number",parameters:[]},{type:"header",parameters:[]},{type:"body",parameters:[]},{type:"document",parameters:[]},{type:"image",parameters:[]}]),B=b(!1),w=b(!0),F=b(!0),D=b({});g.value.findIndex(l=>l.type=="document")==-1&&g.value.push({type:"document",parameters:[]}),g.value.findIndex(l=>l.type=="image")==-1&&g.value.push({type:"image",parameters:[]});const W=b(n.workflowDetail.map_name)??b(""),I=$,_=b([]),A=b(),P=async l=>{I("copyUrl",l),x.value="Copied!",setTimeout(()=>{x.value="Copy"},5e3)},Ke=async l=>{},Xe=async l=>{h.value=!0;const o=new FormData;o.append("uuid",l);const i=await re.post("/response/recapture",o);return n.workflowDetail.last_data_mapped=i.data.lastDataMapped?JSON.stringify(i.data.lastDataMapped,void 0,4):"",n.workflowDetail.last_data_select=i.data.lastDataMapped,n.workflowDetail.workflow_data=i.data.workflowData,i.data.diffArray||!i.data.workflowData?g.value=g.value:g.value=JSON.parse(i.data.workflowData),_.value=[],n.workflowDetail.last_data_select&&(i.data.diffArray||!i.data.workflowData)&&(le(n.workflowDetail.last_data_select,(v,c)=>{_.value.push({name:v.join(" > ")+" : "+c,value:v.join(".")})}),we()),h.value=!1,ie("Response Re-Captured Successfully!",{autoClose:3e3}),!0},ve=()=>{document.querySelector(".workflowDetils").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},O=(l,o="")=>{const i=/{{(.*?)}}/g,v=[];let c;if(o=="header"){let V=JSON.parse(l).components.filter(M=>M.type=="HEADER"&&M.format=="TEXT");if(!V.length)return v;if(V.length)for(;(c=i.exec(V[0].text))!==null;)v.push({data:c[1].trim(),type:"header"});return v}else if(o=="document"){let V=JSON.parse(l).components.filter(M=>M.format=="DOCUMENT");return V.length&&V.length&&V.forEach(M=>{v.push({data:M.format.trim(),type:"document"})}),v}else if(o=="image"){let V=JSON.parse(l).components.filter(M=>M.format=="IMAGE");return V.length&&V.length&&V.forEach(M=>{v.push({data:M.format.trim(),type:"image"})}),v}else{let V=JSON.parse(l).components.filter(M=>M.type=="BODY");if(!V.length)return v;if(V.length)for(;(c=i.exec(V[0].text))!==null;)v.push({data:c[1].trim(),type:"body"});return v}},z=l=>{if(l.type=="subscriber_name")return W.value=l.value,!0;var o=g.value.findIndex(i=>i.type==l.type);o!=-1&&(g.value[o].parameters[l.index]=l.value)},we=()=>{if(!n.workflowDetail.workflow_data&&n.workflowDetail.last_data_select){var l=O(n.workflowDetail.metadata,"header");l.length&&l.forEach((V,M)=>{var L={index:M,type:V.type,value:_.value[0].value};z(L)});var o=O(n.workflowDetail.metadata,"body");o.length&&o.forEach((V,M)=>{var L={index:M,type:V.type,value:_.value[0].value};z(L)});var i=O(n.workflowDetail.metadata,"document");i.length&&i.forEach((V,M)=>{let L=[".pdf",".txt",".ppt",".doc",".xls",".docx",".pptx",".xlsx"],G=_.value.filter(X=>L.filter(Q=>X.name.includes(Q)).length);var q={index:M,type:"document",value:G.length?G[0].value:_.value[0].value};z(q)});var v=O(n.workflowDetail.metadata,"image");if(v.length&&v.forEach((V,M)=>{let L=[".png",".jpg"],G=_.value.filter(X=>L.filter(Q=>X.name.includes(Q)).length);var q={index:M,type:"image",value:G.length?G[0].value:_.value[0].value};z(q)}),n.workflowDetail.last_data_select&&le(n.workflowDetail.last_data_select,(V,M)=>{console.log(`${V.join(".")} = ${M}`),M&&ge(M)&&(A.value=V.join("."))}),A.value){var c={index:0,type:"phone_number",value:A.value};z(c)}else{var c={index:0,type:"phone_number",value:_.value[0].value};z(c)}}};function le(l,o,i=[]){for(const[v,c]of Object.entries(l)){const V=[...i,v];c&&typeof c=="object"&&!Array.isArray(c)?le(c,o,V):o(V,c)}}n.workflowDetail.last_data_select&&le(n.workflowDetail.last_data_select,(l,o)=>{_.value.push({name:l.join(" > ")+" : "+o,value:l.join(".")})});const Qe=async l=>{C.value=!0;const o=new FormData;o.append("uuid",l),o.append("workflow_json",JSON.stringify(g.value)),o.append("subscriber_name",W.value??"");const i=await re.post("/workflow/store",o);C.value=!1,i.status===200&&I("verified_data",{workflowDetail:i.data.workflowDetail,uuid:l}),ie("Workflow Saved Successfully!",{autoClose:3e3})};function ge(l){l=typeof l=="string"?l.trim():l;var o=/^[+]{1}(?:[0-9\-\\(\\)\\/.]\s?){6,15}[0-9]{1}$/.test(l)||/^(1\s|1|)?((\(\d{3}\))|\d{3})(\-|\s)?(\d{3})(\-|\s)?(\d{4})$/.test(l);return o}const oe=(l,o,i)=>{var v=l.find(M=>M.type==i);if(!v||i=="phone_number"&&!n.workflowDetail.workflow_data)return n.workflowDetail.last_data_select&&le(n.workflowDetail.last_data_select,(M,L)=>{L&&ge(L)&&(A.value=M.join("."))}),A.value;if(i=="document"){var c=O(n.workflowDetail.metadata,"document");c.length&&c.forEach((M,L)=>{let G=[".pdf",".txt",".ppt",".doc",".xls",".docx",".pptx",".xlsx"],q=_.value.filter(X=>G.filter(Q=>X.name.includes(Q)).length);return q.length?q[0].value:v.parameters[o]})}else if(i=="image"){var V=O(n.workflowDetail.metadata,"image");V.length&&V.forEach((M,L)=>{let G=[".png",".jpg"],q=_.value.filter(X=>G.filter(Q=>X.name.includes(Q)).length);return q.length?q[0].value:v.parameters[o]})}return v.parameters[o]},Y=b({search:(ye=n.filters)==null?void 0:ye.search,page:(ke=n.filters)==null?void 0:ke.page}),be=mt(()=>{isSearching.value=!0,Y.value.search||delete Y.value.search,_e()},1e3),_e=()=>{const l=window.location.pathname;ot.visit(l,{method:"get",data:Y.value})},et=()=>{Y.value.search=null,delete Y.value.search,_e()},tt=()=>{if(t.processing=!0,t.name||(t.errors.name="Label Field is required",t.processing=!1),t.action||(t.errors.action="Contact Field is required",t.processing=!1),!t.name||!t.action)return!1;t.errors.name=t.errors.action=t.errors.glue=t.errors.concat=t.errors.position=t.errors.day=t.errors.default=t.errors.decimal=t.errors.decimal_separator=t.errors.thousand_separator=t.errors.number=t.errors.search=t.errors.replace=t.errors.shorten=t.errors.separator=t.errors.value=t.errors.trim="",t.post("/workflow/dataformatter/store",{preserveScroll:!0,onSuccess:()=>{t.processing=!1}})},at=l=>{t.action=l?l.slug:null,D.value=l?l.content:{},t.glue=t.concat=t.position=t.day=t.default=t.decimal=t.decimal_separator=t.thousand_separator=t.number=t.search=t.replace=t.shorten=t.separator=t.value=t.trim=null},lt=async l=>{try{const o=await re.delete(`/workflow/dataformatter/${l}`);if(o.status===200&&o.data.success){const i=n.dataFormatterRows.data.findIndex(v=>v.uuid===l);n.dataFormatterRows.data.splice(i,1)}ie(o.data.message,{autoClose:3e3})}catch{}};return Se(()=>{typeof n.workflowDetail.last_data_mapped=="object"&&(n.workflowDetail.last_data_mapped=JSON.stringify(n.workflowDetail.last_data_mapped,void 0,4))}),me(()=>{ve(),we()}),U({onLoadAndBroadcast:ve}),(l,o)=>(r(),f(J,null,[e("div",Et,[e("div",It,[e("div",null,[e("h2",Ht,d(l.$t("Workflow Details")),1),e("p",Zt,[e("span",Jt,d(l.$t("Send WhatsApp template message based on data received from 3rd party webhook call")),1)])])]),e("div",Pt,[e("div",Gt,[e("h2",qt,d(l.$t("Webhook Callback URL")),1)]),e("div",Yt,[e("p",Kt,[e("span",Xt,d(l.$t(n.workflowDetail.webhookUrl)),1)]),e("button",{onClick:o[0]||(o[0]=i=>P(n.workflowDetail.webhookUrl)),class:"rounded-md bg-primary px-3 py-2 text-sm text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 opacity-0"},d(l.$t(x.value)),1)]),e("div",Qt,[e("button",{onClick:o[1]||(o[1]=i=>Xe(n.workflowDetail.uuid)),class:S(["rounded-md bg-primary px-3 py-2 text-sm text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",[{"opacity-50":h.value}]]),disabled:h.value},[h.value?(r(),f("svg",ta,oa)):(r(),f("span",sa,[na,N(" "+d(l.$t("Re-Capture Webhook Response")),1)]))],10,ea)])])]),e("div",ra,[e("div",ia,[e("div",da,[e("div",ua,[e("h4",ca,d(l.$t("Webhook Response Mapping")),1)]),n.workflowDetail.last_data_mapped&&!h.value?(r(),f("div",pa,[e("h4",ma,d(l.$t("Phone Number*")),1),e("div",fa,[s(ee,{templateDetails:_.value,index:0,type:l.$t("phone_number"),onTemplateDataForward:z,initData:oe(a(g),0,"phone_number")},null,8,["templateDetails","type","initData"])]),O(n.workflowDetail.metadata,"header").length?(r(),f("h4",ha,d(l.$t("Header :")),1)):T("",!0),(r(!0),f(J,null,K(O(n.workflowDetail.metadata,"header"),(i,v)=>(r(),f("div",{key:v,class:"flex items-center gap-4 p-5 pb-0"},[e("span",null,d(l.$t("{{"+i.data+"}}")),1),s(ee,{templateDetails:_.value,index:v,type:i.type,onTemplateDataForward:z,initData:oe(a(g),v,"header")},null,8,["templateDetails","index","type","initData"])]))),128)),O(n.workflowDetail.metadata,"body").length?(r(),f("h4",va,d(l.$t("Body :")),1)):T("",!0),(r(!0),f(J,null,K(O(n.workflowDetail.metadata,"body"),(i,v)=>(r(),f("div",{key:v,class:"flex items-center gap-4 p-5 pb-0"},[e("span",null,d(l.$t("{{"+i.data+"}}")),1),s(ee,{templateDetails:_.value,index:v,type:i.type,onTemplateDataForward:z,initData:oe(a(g),v,"body")},null,8,["templateDetails","index","type","initData"])]))),128)),O(n.workflowDetail.metadata,"document").length?(r(),f("h4",wa,d(l.$t("Doucment :")),1)):T("",!0),(r(!0),f(J,null,K(O(n.workflowDetail.metadata,"document"),(i,v)=>(r(),f("div",{key:v,class:"flex items-center gap-4 p-5 pb-0"},[s(ee,{templateDetails:_.value,index:v,type:i.type,onTemplateDataForward:z,initData:oe(a(g),v,"document")},null,8,["templateDetails","index","type","initData"])]))),128)),O(n.workflowDetail.metadata,"image").length?(r(),f("h4",ga,d(l.$t("Image :")),1)):T("",!0),(r(!0),f(J,null,K(O(n.workflowDetail.metadata,"image"),(i,v)=>(r(),f("div",{key:v,class:"flex items-center gap-4 p-5 pb-0"},[s(ee,{templateDetails:_.value,index:v,type:i.type,onTemplateDataForward:z,initData:oe(a(g),v,"image")},null,8,["templateDetails","index","type","initData"])]))),128))])):T("",!0),h.value?(r(),f("div",ba,ya)):T("",!0)]),e("div",ka,[e("div",xa,[e("h4",Da,d(l.$t("Actions following successful webhook call")),1)]),n.workflowDetail.last_data_mapped&&!h.value?(r(),f("div",$a,[e("h4",Ca,d(l.$t("Subscriber Name")),1),e("div",Va,[s(ee,{templateDetails:_.value,index:0,type:l.$t("subscriber_name"),onTemplateDataForward:z,initData:a(W)},null,8,["templateDetails","type","initData"])])])):T("",!0),h.value?(r(),f("div",Ma,Ta)):T("",!0)])]),e("div",Na,[e("div",Aa,[e("h2",Fa,d(l.$t("Data Formatters")),1),e("p",Ua,[e("span",Ra,d(l.$t("Format or manipulate webhook data")),1)]),e("div",ja,[e("div",Ba,[Oa,st(e("input",{onInput:o[2]||(o[2]=(...i)=>a(be)&&a(be)(...i)),"onUpdate:modelValue":o[3]||(o[3]=i=>Y.value.search=i),type:"text",class:"outline-none px-4 w-full",placeholder:l.$t("Search")},null,40,za),[[nt,Y.value.search]]),l.isSearching===!1&&Y.value.search?(r(),f("button",{key:0,onClick:et,type:"button",class:"pr-2"},Wa)):T("",!0),l.isSearching?(r(),f("span",Ea,Ha)):T("",!0)]),e("button",{onClick:o[4]||(o[4]=i=>{B.value=!0}),class:"rounded-md bg-primary px-3 py-2 text-sm text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 flex items-center justify-center gap-1"},[Za,N(" "+d(l.$t("New")),1)])]),e("div",null,[s(Re,{rows:y.dataFormatterRows,isPaginationDisable:!0},{default:p(()=>[s(je,null,{default:p(()=>[s(Be,null,{default:p(()=>[s(H,{position:"first",class:S("font-bold")},{default:p(()=>[N(d(l.$t("Formatter Definition")),1)]),_:1}),s(H,null,{default:p(()=>[N(d(l.$t("Actions")),1)]),_:1})]),_:1})]),_:1}),s(Oe,null,{default:p(()=>[(r(!0),f(J,null,K(y.dataFormatterRows,(i,v)=>(r(),E(ze,{key:v},{default:p(()=>[s(Z,{position:"first",class:"capitalize"},{default:p(()=>[N(d(i==null?void 0:i.formatter_definition),1)]),_:2},1024),s(Z,{class:"hidden sm:table-cell"},{default:p(()=>[e("span",{onClick:c=>a(m)(i==null?void 0:i.uuid),class:"block cursor-pointer w-fit"},Ga,8,Ja)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["rows"])])]),e("div",qa,[e("h2",Ya,d(l.$t("Raw Data")),1),e("p",Ka,[e("span",Xa,d(l.$t("The original webhook data received in raw format")),1)]),s(a(_t),null,{default:p(({open:i})=>[s(a(yt),{class:"py-2"},{default:p(()=>[e("button",{onClick:o[5]||(o[5]=v=>Ke(n.workflowDetail.uuid)),class:"rounded-md bg-primary px-3 py-2 text-sm text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},d(l.$t("Load Data")),1)]),_:1}),s(rt,{enter:"duration-300 ease-out"},{default:p(()=>[s(a(kt),{class:"text-gray-500"},{default:p(()=>[s(ft,{modelValue:n.workflowDetail.last_data_mapped,"onUpdate:modelValue":o[6]||(o[6]=v=>n.workflowDetail.last_data_mapped=v),textAreaRows:12},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])])]),n.workflowDetail.last_data_mapped?(r(),f("div",Qa,[e("button",{onClick:o[7]||(o[7]=i=>Qe(n.workflowDetail.uuid)),class:S(["rounded-md bg-primary px-3 py-2 text-sm text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",[{"opacity-50":C.value}]]),disabled:C.value},[C.value?(r(),f("svg",tl,ol)):(r(),f("span",sl,[nl,N(" "+d(l.$t("Save Workflow")),1)]))],10,el)])):T("",!0),s(Le,{label:l.$t("Data Formatter"),isOpen:B.value,extendMaxWidth:!0,closeBtn:!0,onClose:o[27]||(o[27]=i=>B.value=!1),customStyle:!0},{default:p(()=>{var i,v;return[e("div",rl,[e("form",{onSubmit:o[26]||(o[26]=ce(c=>tt(),["prevent"]))},[e("div",il,[e("div",dl,[s(j,{modelValue:a(t).name,"onUpdate:modelValue":o[8]||(o[8]=c=>a(t).name=c),error:a(t).errors.name,name:l.$t("Name *"),placeholder:"Name it to identify it later",type:"text",class:S("sm:col-span-6")},null,8,["modelValue","error","name"]),e("div",ul,[e("label",cl,d(l.$t("Action *")),1),s(Wt,{onDataFormatter:at})])]),a(t).action&&(a(t).action=="concat_left"||a(t).action=="concat_right"||a(t).action=="concat_list_items"||a(t).action=="split")?(r(),f("div",pl,[a(t).action=="concat_left"||a(t).action=="concat_right"||a(t).action=="concat_list_items"?(r(),E(j,{key:0,modelValue:a(t).glue,"onUpdate:modelValue":o[9]||(o[9]=c=>a(t).glue=c),error:a(t).errors.glue,name:l.$t("Glue"),placeholder:"string",type:"text",class:S("sm:col-span-6")},null,8,["modelValue","error","name"])):(r(),E(j,{key:1,modelValue:a(t).separator,"onUpdate:modelValue":o[10]||(o[10]=c=>a(t).separator=c),error:a(t).errors.separator,name:l.$t("Separator *"),placeholder:"string",type:"text",class:S("sm:col-span-6")},null,8,["modelValue","error","name"])),a(t).action=="concat_left"||a(t).action=="concat_right"?(r(),E(j,{key:2,modelValue:a(t).concat,"onUpdate:modelValue":o[11]||(o[11]=c=>a(t).concat=c),error:a(t).errors.concat,name:l.$t("Concat *"),placeholder:"string",type:"text",class:S("sm:col-span-6")},null,8,["modelValue","error","name"])):(r(),E(j,{key:3,modelValue:a(t).position,"onUpdate:modelValue":o[12]||(o[12]=c=>a(t).position=c),error:a(t).errors.position,name:l.$t("Position *"),placeholder:"string",type:"text",class:S("sm:col-span-6")},null,8,["modelValue","error","name"]))])):T("",!0),a(t).action&&(a(t).action=="day_add"||a(t).action=="day_subtract")?(r(),f("div",ml,[s(j,{modelValue:a(t).day,"onUpdate:modelValue":o[13]||(o[13]=c=>a(t).day=c),error:a(t).errors.day,name:l.$t("Day *"),placeholder:"integer",type:"text",class:S("sm:col-span-6")},null,8,["modelValue","error","name"])])):T("",!0),a(t).action&&a(t).action=="default_value"?(r(),f("div",fl,[s(j,{modelValue:a(t).default,"onUpdate:modelValue":o[14]||(o[14]=c=>a(t).default=c),error:a(t).errors.default,name:l.$t("Default *"),placeholder:"string",type:"text",class:S("sm:col-span-6")},null,8,["modelValue","error","name"])])):T("",!0),a(t).action&&a(t).action=="format_number"?(r(),f("div",hl,[s(j,{modelValue:a(t).decimal,"onUpdate:modelValue":o[15]||(o[15]=c=>a(t).decimal=c),error:a(t).errors.decimal,name:l.$t("Decimal *"),placeholder:"integer",type:"text",class:S("sm:col-span-4")},null,8,["modelValue","error","name"]),s(j,{modelValue:a(t).decimal_separator,"onUpdate:modelValue":o[16]||(o[16]=c=>a(t).decimal_separator=c),error:a(t).errors.decimal_separator,name:l.$t("Decimal Separator"),placeholder:"string",type:"text",class:S("sm:col-span-4")},null,8,["modelValue","error","name"]),s(j,{modelValue:a(t).thousand_separator,"onUpdate:modelValue":o[17]||(o[17]=c=>a(t).thousand_separator=c),error:a(t).errors.thousand_separator,name:l.$t("Thousand Separator"),placeholder:"string",type:"text",class:S("sm:col-span-4")},null,8,["modelValue","error","name"])])):T("",!0),a(t).action&&(a(t).action=="number_add"||a(t).action=="number_multiply"||a(t).action=="number_subtract")?(r(),f("div",vl,[s(j,{modelValue:a(t).number,"onUpdate:modelValue":o[18]||(o[18]=c=>a(t).number=c),error:a(t).errors.number,name:l.$t("Number *"),placeholder:"integer",type:"text",class:S("sm:col-span-6")},null,8,["modelValue","error","name"])])):T("",!0),a(t).action&&a(t).action=="replace"?(r(),f("div",wl,[s(j,{modelValue:a(t).search,"onUpdate:modelValue":o[19]||(o[19]=c=>a(t).search=c),error:a(t).errors.search,name:l.$t("Search *"),placeholder:"string",type:"text",class:S("sm:col-span-6")},null,8,["modelValue","error","name"]),s(j,{modelValue:a(t).replace,"onUpdate:modelValue":o[20]||(o[20]=c=>a(t).replace=c),error:a(t).errors.replace,name:l.$t("Replace *"),placeholder:"string",type:"text",class:S("sm:col-span-6")},null,8,["modelValue","error","name"])])):T("",!0),a(t).action&&a(t).action=="shorten"?(r(),f("div",gl,[s(j,{modelValue:a(t).shorten,"onUpdate:modelValue":o[21]||(o[21]=c=>a(t).shorten=c),error:a(t).errors.shorten,name:l.$t("Limit *"),placeholder:"integer",type:"text",class:S("sm:col-span-6")},null,8,["modelValue","error","name"])])):T("",!0),a(t).action&&a(t).action=="static_value"?(r(),f("div",bl,[s(j,{modelValue:a(t).value,"onUpdate:modelValue":o[22]||(o[22]=c=>a(t).value=c),error:a(t).errors.value,name:l.$t("Value *"),placeholder:"string",type:"text",class:S("sm:col-span-6")},null,8,["modelValue","error","name"])])):T("",!0),a(t).action&&(a(t).action=="trim_left"||a(t).action=="trim_right")?(r(),f("div",_l,[s(j,{modelValue:a(t).trim,"onUpdate:modelValue":o[23]||(o[23]=c=>a(t).trim=c),error:a(t).errors.trim,name:l.$t("Trim *"),placeholder:"string",type:"text",class:S("sm:col-span-6")},null,8,["modelValue","error","name"])])):T("",!0),F.value&&a(t).action?(r(),f("div",yl,[kl,e("div",null,[xl,e("p",Dl,[N(d((i=D.value)==null?void 0:i.main_content)+" ",1),$l,e("i",null,d((v=D.value)==null?void 0:v.italic_content),1)])]),e("button",{type:"button",onClick:o[24]||(o[24]=c=>F.value=!1),class:"absolute top-0 right-0 py-2 px-2.5"},Vl)])):T("",!0),w.value?(r(),f("div",Ml,[Sl,Tl,e("button",{type:"button",onClick:o[25]||(o[25]=c=>w.value=!1),class:"absolute top-0 right-0 py-2 px-2.5"},Al)])):T("",!0)]),e("div",Fl,[e("button",{class:S(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":a(t).processing}]),disabled:a(t).processing},[a(t).processing?(r(),f("svg",Rl,Ol)):(r(),f("span",zl,[Ll,N(d(l.$t("Save Formatter")),1)]))],10,Ul)])],32)])]}),_:1},8,["label","isOpen"]),s(Fe,{modelValue:a(k),"onUpdate:modelValue":o[28]||(o[28]=i=>ne(k)?k.value=i:null),onConfirm:o[29]||(o[29]=()=>a(R)(lt)),label:l.$t("Delete row"),description:l.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},El={class:"bg-white md:bg-inherit pt-10 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] h-full md:overflow-y-auto"},Il={class:"flex justify-between"},Hl={class:"text-xl mb-1"},Zl={class:"mb-6 flex items-center text-sm leading-6"},Jl={class:"ml-1 mt-1"},Pl={class:"mt-5 grid grid-cols-1 gap-x-6 gap-y-4"},Gl={class:"mt-4 flex"},ql=["disabled"],Yl={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},Kl=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),Xl=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),Ql=[Kl,Xl],eo={key:1},zo={__name:"Index",props:["rows","filters","whatsappTemplates","contact","isChatLimitReached","templates","settings"],setup(y){const U=y,$=b(!1),k=b("/whatsapp/workflow"),m=b("post"),R=b("Workflow Details"),n=b("Send WhatsApp template message based on data received from 3rd party webhook call"),h=b(!1),C=b(null),x=b(null),t=b(U.isChatLimitReached),u=Ae({workflowName:null,messageTemplate:null,errors:{workflowName:"This Field is required",messageTemplate1:"This Field is required"}}),g=(_,A={})=>{R.value=xe("Workflow Details"),k.value="/whatsapp/workflow",m.value="post",_?(R.value=xe("Update user"),k.value="/whatsapp/workflow/"+_.id,m.value="put",u.workflowName=_.workflowName,u.messageTemplate=_.messageTemplate,$.value=!0):(u.workflowName=null,u.messageTemplate=null,u.errors.workflowName=null,u.errors.messageTemplate=null,$.value=!0)},B=()=>{if(u.processing=!0,!u.workflowName||!u.messageTemplate)return u.workflowName||(u.errors.workflowName="This Field is required"),u.messageTemplate||(u.errors.messageTemplate="This Field is required"),u.processing=!1,!1;m.value==="post"?u.post(k.value,{onFinish:_=>{u.processing=!1,$.value=!1,h.value=!1}}):u.put(k.value,{onFinish:()=>{$.value=!1}})},w=b(null),F=async _=>{h.value=!1,setTimeout(()=>{C.value=_.data,h.value=!0,w.value&&w.value.onLoadAndBroadcast()})},D=async _=>{x.value=_;const A=document.createElement("textarea");A.value=_,document.body.appendChild(A),A.select(),document.execCommand("copy"),document.body.removeChild(A),setTimeout(()=>{x.value=null},2e3)},W=b(null),I=_=>{W.value&&W.value.verified(_)};return(_,A)=>(r(),E(it,null,{default:p(()=>[e("div",El,[e("div",Il,[e("div",null,[e("h2",Hl,d(_.$t("WhatsApp Webhook Workflow")),1),e("p",Zl,[e("span",Jl,d(_.$t("Create and manage your WhatsApp webhook workflows")),1)])]),e("div",null,[e("button",{onClick:A[0]||(A[0]=P=>g()),class:"rounded-md bg-primary px-3 py-2 text-sm text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},d(_.$t("Create")),1)])]),s(Ft,{rows:U.rows,onEdit:F,onCopyUrl:D,onDelete:A[1]||(A[1]=P=>h.value=!1),onOpenModal:g,ref_key:"childCompVerifiedRef",ref:W},null,8,["rows"]),s(Le,{label:R.value,isOpen:$.value,description:n.value},{default:p(()=>[e("div",Pl,[e("form",{onSubmit:A[5]||(A[5]=ce(P=>B(),["prevent"])),class:"grid gap-x-6 gap-y-4 sm:grid-cols-6"},[s(j,{modelValue:a(u).workflowName,"onUpdate:modelValue":A[2]||(A[2]=P=>a(u).workflowName=P),error:a(u).workflowName?"":a(u).errors.workflowName,name:_.$t("Workflow Name"),type:"text",class:S("sm:col-span-6"),disabled:m.value==="put"},null,8,["modelValue","error","name","disabled"]),s(pt,{modelValue:a(u).messageTemplate,"onUpdate:modelValue":A[3]||(A[3]=P=>a(u).messageTemplate=P),error:a(u).messageTemplate?"":a(u).errors.messageTemplate,options:U.whatsappTemplates,name:_.$t("Message Template "),class:S("sm:col-span-6"),placeholder:_.$t("Select Template"),relativeFlag:!0},null,8,["modelValue","error","options","name","placeholder"]),e("div",Gl,[e("button",{type:"button",onClick:A[4]||(A[4]=ce(P=>{$.value=!1,a(u).errors.workflowName="",a(u).errors.messageTemplate=""},["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},d(_.$t("Cancel")),1),e("button",{class:S(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":a(u).processing}]),disabled:a(u).processing},[a(u).processing?(r(),f("svg",Yl,Ql)):(r(),f("span",eo,d(_.$t("Save")),1))],10,ql)])],32)])]),_:1},8,["label","isOpen","description"]),h.value?(r(),E(Wl,{key:0,workflowDetail:C.value,contact:U.contact,chatLimitReached:t.value,templates:y.templates,settings:y.settings,ref_key:"childCompRef",ref:w,onCopyUrl:D,onVerified_data:I},null,8,["workflowDetail","contact","chatLimitReached","templates","settings"])):T("",!0)])]),_:1}))}};export{zo as default};

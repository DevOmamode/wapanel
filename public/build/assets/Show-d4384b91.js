import{r as y,T as q,c as g,h as d,f as x,F as se,o as u,a as s,t as r,u as e,i as G,g as k,b as f,n as a,j as I,e as z}from"./app-03263d9c.js";import oe from"./App-74e182ad.js";import{_ as p}from"./FormInput-bb9f5607.js";import{_ as le}from"./FormPhoneInput-429004f0.js";import{_ as C}from"./FormSelect-34d68940.js";import{_ as ne}from"./BillingTable-5fe850eb.js";import{_ as ie}from"./Modal-d968cb5e.js";import{_ as ae}from"./UserTable-fd1a7439.js";import{t as h}from"./index-17bda2d1.js";import"./Sidebar-8bc37796.js";import"./Menu-77cdc9e0.js";import"./ProfileModal-89ff529e.js";import"./transition-2742b54b.js";import"./hidden-d73b7354.js";import"./use-text-value-74ca2016.js";import"./micro-task-89dcd6af.js";import"./tabs-7065b218.js";import"./LangToggle-fadca48b.js";import"./MobileSidebar-f06fc031.js";import"./index-dc901c6e.js";/* empty css              *//* empty css                      */import"./debounce-51e60686.js";import"./_baseGetTag-4c14ea0a.js";import"./Table-992b3240.js";import"./Pagination-0f108323.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TableHeaderRowItem-d69b56f6.js";import"./TableBodyRowItem-4927bcdc.js";import"./AlertModal-543f4e13.js";import"./useAlertModal-bfc81e51.js";import"./Dropdown-9630f924.js";import"./use-tree-walker-07a95138.js";import"./DropdownItem-2e9b2b3e.js";const re={class:"bg-white md:bg-inherit pt-0 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] h-full overflow-y-scroll"},de={key:0,class:"md:flex justify-between hidden"},me={class:"text-xl mb-1"},ue={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},pe=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[s("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),ce={class:"ml-1 mt-1"},ge={key:1,class:"flex justify-between"},fe={class:"flex items-center space-x-2 mb-8 mt-8 md:mt-0"},ve=s("div",{class:"rounded-full p-1"},[s("div",{class:"rounded-full w-32 h-32 bg-slate-200 flex justify-center items-center"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"80",height:"80",viewBox:"0 0 24 24"},[s("g",{fill:"none","fill-rule":"evenodd"},[s("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),s("path",{fill:"currentColor",d:"M17 3.722v5.497l2.864.716A1.5 1.5 0 0 1 21 11.39V19a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2v-7.69a1.5 1.5 0 0 1 .83-1.343L7 8.382V6.347a1.5 1.5 0 0 1 .973-1.405l7-2.625A1.5 1.5 0 0 1 17 3.722Zm-2 .721l-6 2.25V19h6V4.443Zm2 6.838V19h2v-7.22l-2-.5Zm-10-.663l-2 1V19h2v-8.382Z"})])])])],-1),be={class:"text-lg"},ye={class:"text-sm"},he={key:0,class:"bg-[#000] text-white text-xs py-1 px-2 rounded-md"},we={class:"text-sm capitalize"},xe={class:"flex space-x-4"},Ve={key:2,class:"flex border-b space-x-4 text-sm"},_e={key:3,class:"pt-5"},$e={key:4,class:"pt-5"},ke={class:"sm:flex border-b py-5"},ze={class:"hidden sm:block sm:w-[40%] mb-1"},Ce={class:"text-sm tracking-[0px]"},Ue={class:"sm:w-[60%] sm:flex space-x-6"},Se={class:"sm:w-[80%] grid gap-x-6 gap-y-4 sm:grid-cols-6"},Be={key:0,class:"sm:flex border-b py-5"},Ze={class:"hidden sm:block sm:w-[40%] mb-1"},je={class:"text-sm tracking-[0px]"},Ae={class:"text-sm text-gray-500"},Oe={class:"sm:w-[60%]"},Me={class:"sm:w-[80%] flex justify-between bg-primary rounded-[5px] p-1 space-x-2 mb-4 text-white"},Ne={key:0,class:"sm:w-[80%] grid gap-x-6 gap-y-4 sm:grid-cols-6"},Te={key:1,class:"sm:w-[80%] grid gap-x-6 gap-y-4 sm:grid-cols-6"},Fe={class:"sm:flex py-5"},De={class:"hidden sm:block w-[40%] mb-1"},Ee={class:"text-sm tracking-[0px]"},Pe={class:"sm:w-[60%] sm:flex space-x-6"},He={class:"sm:w-[80%] grid gap-x-6 gap-y-4 sm:grid-cols-6"},Le={class:"py-6"},Je={type:"submit",class:"float-right flex items-center space-x-4 rounded-md bg-black px-3 py-2 text-sm text-white shadow-sm hover:bg-slate-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},Re={class:"mt-5 grid grid-cols-1 gap-x-6 gap-y-4"},Ye={class:"grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-6 sm:col-span-4"},qe={class:"bg-red-800 py-1 px-2 rounded-[5px] mt-6"},Ge={class:"text-[12px] flex items-center space-x-2 text-white"},Ie=s("svg",{class:"text-white",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},[s("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625zM10 5a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 10 5m0 9a1 1 0 1 0 0-2a1 1 0 0 0 0 2","clip-rule":"evenodd"})],-1),Ke={class:"mt-6 flex"},Qe=["disabled"],We={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},Xe=s("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),et=s("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[s("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),tt=[Xe,et],st={key:1},Tt={__name:"Show",props:{showAddBtn:{type:Boolean,default:!0},title:String,organization:Object,users:Object,invoices:Object,plans:Object,filters:Object,mode:String},setup(K){var S,B,Z,j,A,O,M,N,T,F,D,E;const i=K,v=y("organization"),b=(l,t)=>{if(l){const m=JSON.parse(l);return(m==null?void 0:m[t])??null}else return null},o=q({name:(S=i.organization)==null?void 0:S.name,plan:(j=(Z=(B=i.organization)==null?void 0:B.subscription)==null?void 0:Z.plan)==null?void 0:j.uuid,valid_until:(O=(A=i.organization)==null?void 0:A.subscription)==null?void 0:O.valid_until,create_user:1,first_name:null,last_name:null,email:null,phone:null,password:null,password_confirmation:null,street:b((M=i.organization)==null?void 0:M.address,"street"),city:b((N=i.organization)==null?void 0:N.address,"city"),state:b((T=i.organization)==null?void 0:T.address,"state"),zip:b((F=i.organization)==null?void 0:F.address,"zip"),country:b((D=i.organization)==null?void 0:D.address,"country")}),Q=y([{value:"credit",label:h("Credit")},{value:"debit",label:h("Debit")},{value:"payment",label:h("Payment")}]),W=y([{value:"manual",label:h("Manual")},{value:"bank",label:h("Bank")}]),c=q({uuid:(E=i.organization)==null?void 0:E.uuid,type:null,amount:null,method:null,description:null}),X=()=>i.plans.map(l=>({value:l.uuid,label:l.name})),V=y(!1),_=y(!1),w=l=>{v.value=l},U=l=>{o.create_user=l,l===0?(o.first_name=null,o.last_name=null,o.email=null,o.phone=null,o.password=null,o.password_confirmation=null):o.email=null},ee=async()=>{const l=i.organization?window.location.pathname:"/admin/organizations";o[i.organization?"put":"post"](l,{preserveScroll:!0})},$=()=>{V.value=!V.value},te=async()=>{c.post("/admin/billing",{preserveScroll:!0,onSuccess:()=>{$(),w("billing")}})};return(l,t)=>(u(),g(se,null,[d(oe,null,{default:x(()=>{var m,P,H,L,J,R,Y;return[s("div",re,[i.organization===null?(u(),g("div",de,[s("div",null,[s("h1",me,r(l.$t("Create organization")),1),s("p",ue,[pe,s("span",ce,r(l.$t("Create organization")),1)])]),s("div",null,[d(e(G),{href:"/admin/organizations",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:x(()=>[k(r(l.$t("Back")),1)]),_:1})])])):f("",!0),i.organization?(u(),g("div",ge,[s("div",fe,[ve,s("div",null,[s("h1",be,r(i.organization.name),1),s("h2",ye,[k(r(l.$t("Subscription plan"))+": "+r(((H=(P=(m=i.organization)==null?void 0:m.subscription)==null?void 0:P.plan)==null?void 0:H.name)??"Not set")+" ",1),((J=(L=i.organization)==null?void 0:L.subscription)==null?void 0:J.status)==="trial"?(u(),g("span",he,r(l.$t("Trial period")),1)):f("",!0)]),s("h2",we,r(l.$t("Valid until"))+": "+r(((Y=(R=i.organization)==null?void 0:R.subscription)==null?void 0:Y.valid_until)??"Not set"),1)])]),s("div",xe,[s("div",null,[s("button",{type:"button",onClick:t[0]||(t[0]=n=>$()),class:"rounded-md bg-indigo-600 px-3 h-9 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},r(l.$t("Create transaction")),1)]),d(e(G),{href:"/admin/organizations",class:"rounded-md h-9 bg-black px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:x(()=>[k(r(l.$t("Back")),1)]),_:1})])])):f("",!0),i.organization?(u(),g("div",Ve,[s("div",{onClick:t[1]||(t[1]=n=>w("organization")),class:a(["cursor-pointer px-2 py-2",v.value==="organization"?"bg-white":""])},r(l.$t("User details")),3),s("div",{onClick:t[2]||(t[2]=n=>w("team")),class:a(["cursor-pointer px-2 py-2",v.value==="team"?"bg-white":""])},r(l.$t("Team")),3),s("div",{onClick:t[3]||(t[3]=n=>w("billing")),class:a(["cursor-pointer px-2 py-2",v.value==="billing"?"bg-white":""])},r(l.$t("Billing history")),3)])):f("",!0),i.organization&&v.value==="team"?(u(),g("div",_e,[d(ae,{rows:i.users,filters:i.filters,type:"user",showRole:!0,showDeleteBtn:!1},null,8,["rows","filters"])])):f("",!0),i.organization&&v.value==="billing"?(u(),g("div",$e,[d(ne,{rows:i.invoices,filters:i.filters,uuid:i.organization.uuid},null,8,["rows","filters","uuid"])])):f("",!0),v.value==="organization"?(u(),g("form",{key:5,onSubmit:t[21]||(t[21]=I(n=>ee(),["prevent"])),class:"bg-white py-5 px-5 rounded-bl-[0.5rem] rounded-br-[0.5rem]"},[s("div",ke,[s("div",ze,[s("h3",Ce,r(l.$t("Organization details")),1)]),s("div",Ue,[s("div",Se,[d(p,{modelValue:e(o).name,"onUpdate:modelValue":t[4]||(t[4]=n=>e(o).name=n),name:l.$t("Name"),error:e(o).errors.name,type:"text",class:a("sm:col-span-6")},null,8,["modelValue","name","error"]),d(C,{modelValue:e(o).plan,"onUpdate:modelValue":t[5]||(t[5]=n=>e(o).plan=n),name:l.$t("Subscription plan"),error:e(o).errors.plan,options:X(),type:"text",class:a("sm:col-span-6")},null,8,["modelValue","name","error","options"]),i.organization!==null?(u(),z(p,{key:0,modelValue:e(o).valid_until,"onUpdate:modelValue":t[6]||(t[6]=n=>e(o).valid_until=n),name:l.$t("Expiry Date"),error:e(o).errors.valid_until,type:"datetime-local",class:a("sm:col-span-6")},null,8,["modelValue","name","error"])):f("",!0)])])]),i.organization===null?(u(),g("div",Be,[s("div",Ze,[s("h3",je,r(l.$t("User details")),1),s("p",Ae,r(l.$t("Enter the details of the main administrative user of this organization")),1)]),s("div",Oe,[s("div",Me,[s("button",{type:"button",class:a(["w-[50%] rounded-[5px] px-1 py-2 text-sm",{"bg-white text-black":e(o).create_user===1}]),onClick:t[7]||(t[7]=n=>U(1))},r(l.$t("Add user")),3),s("button",{type:"button",class:a(["w-[50%] rounded-[5px] px-1 py-2 text-sm",{"bg-white text-black":e(o).create_user===0}]),onClick:t[8]||(t[8]=n=>U(0))},r(l.$t("Select existing user")),3)]),e(o).create_user===1?(u(),g("div",Ne,[d(p,{modelValue:e(o).first_name,"onUpdate:modelValue":t[9]||(t[9]=n=>e(o).first_name=n),name:l.$t("First name"),error:e(o).errors.first_name,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(p,{modelValue:e(o).last_name,"onUpdate:modelValue":t[10]||(t[10]=n=>e(o).last_name=n),name:l.$t("Last name"),error:e(o).errors.last_name,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(p,{modelValue:e(o).email,"onUpdate:modelValue":t[11]||(t[11]=n=>e(o).email=n),name:l.$t("Email"),error:e(o).errors.email,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(le,{modelValue:e(o).phone,"onUpdate:modelValue":t[12]||(t[12]=n=>e(o).phone=n),name:l.$t("Phone"),error:e(o).errors.phone,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(p,{modelValue:e(o).password,"onUpdate:modelValue":t[13]||(t[13]=n=>e(o).password=n),name:l.$t("Password"),error:e(o).errors.password,type:"password",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(p,{modelValue:e(o).password_confirmation,"onUpdate:modelValue":t[14]||(t[14]=n=>e(o).password_confirmation=n),name:l.$t("Confirm password"),error:e(o).errors.password_confirmation,type:"password",class:a("sm:col-span-3")},null,8,["modelValue","name","error"])])):(u(),g("div",Te,[d(p,{modelValue:e(o).email,"onUpdate:modelValue":t[15]||(t[15]=n=>e(o).email=n),name:l.$t("Email"),error:e(o).errors.email,type:"text",class:a("sm:col-span-6")},null,8,["modelValue","name","error"])]))])])):f("",!0),s("div",Fe,[s("div",De,[s("h3",Ee,r(l.$t("Address details")),1)]),s("div",Pe,[s("div",He,[d(p,{modelValue:e(o).street,"onUpdate:modelValue":t[16]||(t[16]=n=>e(o).street=n),name:l.$t("Street"),error:e(o).errors.street,type:"text",class:a("sm:col-span-6")},null,8,["modelValue","name","error"]),d(p,{modelValue:e(o).city,"onUpdate:modelValue":t[17]||(t[17]=n=>e(o).city=n),name:l.$t("City"),error:e(o).errors.city,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(p,{modelValue:e(o).state,"onUpdate:modelValue":t[18]||(t[18]=n=>e(o).state=n),name:l.$t("State"),error:e(o).errors.state,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(p,{modelValue:e(o).zip,"onUpdate:modelValue":t[19]||(t[19]=n=>e(o).zip=n),name:l.$t("Zip code"),error:e(o).errors.zip,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(p,{modelValue:e(o).country,"onUpdate:modelValue":t[20]||(t[20]=n=>e(o).country=n),name:l.$t("Country"),error:e(o).errors.country,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"])])])]),s("div",Le,[s("button",Je,r(l.$t("Save")),1)])],32)):f("",!0)])]}),_:1}),d(ie,{label:l.$t("Create transaction"),isOpen:V.value},{default:x(()=>[s("div",Re,[s("form",{onSubmit:t[27]||(t[27]=I(m=>te(),["prevent"])),class:""},[s("div",Ye,[d(C,{modelValue:e(c).type,"onUpdate:modelValue":t[22]||(t[22]=m=>e(c).type=m),name:l.$t("Transaction type"),error:e(c).errors.type,options:Q.value,class:a("sm:col-span-3")},null,8,["modelValue","name","error","options"]),d(p,{modelValue:e(c).amount,"onUpdate:modelValue":t[23]||(t[23]=m=>e(c).amount=m),name:l.$t("Amount"),error:e(c).errors.amount,type:"number",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),e(c).type==="payment"?(u(),z(C,{key:0,modelValue:e(c).method,"onUpdate:modelValue":t[24]||(t[24]=m=>e(c).method=m),name:l.$t("Payment method"),error:e(c).errors.method,options:W.value,class:a("sm:col-span-6")},null,8,["modelValue","name","error","options"])):(u(),z(p,{key:1,modelValue:e(c).description,"onUpdate:modelValue":t[25]||(t[25]=m=>e(c).description=m),name:l.$t("Description"),error:e(c).errors.description,type:"text",class:a("sm:col-span-6")},null,8,["modelValue","name","error"]))]),s("div",qe,[s("p",Ge,[Ie,s("span",null,r(l.$t("You can't undo this transaction once you save it")),1)])]),s("div",Ke,[s("button",{type:"button",onClick:t[26]||(t[26]=m=>$()),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},r(l.$t("Cancel")),1),s("button",{class:a(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":_.value}]),disabled:_.value},[_.value?(u(),g("svg",We,tt)):(u(),g("span",st,r(l.$t("Save")),1))],10,Qe)])],32)])]),_:1},8,["label","isOpen"])],64))}};export{Tt as default};

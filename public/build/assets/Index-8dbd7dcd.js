import{r as h,O as Z,T as I,o,c as r,a as e,w as z,v as O,u as n,b,n as C,t as a,e as T,f as s,h as l,g as m,F as j,d as S,l as B,j as P}from"./app-03263d9c.js";import{_ as H}from"./App-93f94ba2.js";import{d as D}from"./debounce-51e60686.js";import{_ as L}from"./Table-992b3240.js";import{T as U,a as W,_ as k}from"./TableHeaderRowItem-d69b56f6.js";import{T as R,a as q,_ as $}from"./TableBodyRowItem-4927bcdc.js";import"./index-dc901c6e.js";import{_ as E}from"./Modal-d968cb5e.js";import{_ as Y}from"./FormInput-bb9f5607.js";import{t as F}from"./index-17bda2d1.js";import{I as G,y as J,S as K,g as Q,x as X}from"./tabs-7065b218.js";import"./Sidebar-0e13a0ad.js";import"./Menu-009aab99.js";import"./ProfileModal-89ff529e.js";import"./FormPhoneInput-429004f0.js";/* empty css                      */import"./FormSelect-34d68940.js";import"./hidden-d73b7354.js";import"./use-text-value-74ca2016.js";import"./transition-2742b54b.js";import"./micro-task-89dcd6af.js";import"./LangToggle-fadca48b.js";import"./MobileSidebar-ac141bfc.js";/* empty css              */import"./pusher-772b6102.js";import"./_baseGetTag-4c14ea0a.js";import"./Pagination-0f108323.js";import"./_plugin-vue_export-helper-c27b6911.js";const ee={key:0,class:"md:bg-white flex items-center border border-primary md:border-none md:shadow-sm h-12 md:h-10 w-full md:w-80 rounded-[0.5rem] text-xl md:text-sm"},te=e("span",{class:"pl-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m15 15l6 6m-11-4a7 7 0 1 1 0-14a7 7 0 0 1 0 14Z"})])],-1),se=["placeholder"],oe=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2zm3.7 12.3c.4.4.4 1 0 1.4c-.4.4-1 .4-1.4 0L12 13.4l-2.3 2.3c-.4.4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4l2.3-2.3l-2.3-2.3c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0l2.3 2.3l2.3-2.3c.4-.4 1-.4 1.4 0c.4.4.4 1 0 1.4L13.4 12l2.3 2.3z"})],-1),ae=[oe],le={key:1,class:"pr-2"},re=B('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="0 12 12;90 12 12;180 12 12;270 12 12"></animateTransform><animate attributeName="opacity" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.2s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="30 12 12;120 12 12;210 12 12;300 12 12"></animateTransform><animate attributeName="opacity" begin="0.2s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.4s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="60 12 12;150 12 12;240 12 12;330 12 12"></animateTransform><animate attributeName="opacity" begin="0.4s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle></svg>',1),ie=[re],ne=["disabled"],de={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},ce=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),ue=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),me=[ce,ue],fe={key:1,class:"flex gap-1"},pe=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-refresh"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"}),e("path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"})],-1),he=["src"],ge={key:1,class:"bg-white rounded-xl"},ve={class:"p-4 py-8"},_e=B('<div class="flex justify-center mb-4"><svg xmlns="http://www.w3.org/2000/svg" width="72" height="72" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shopping-bag"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg></div>',1),be={class:"text-center text-lg font-medium mb-4"},we={class:"flex justify-center"},ye=["disabled"],xe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},ke=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),$e=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),Ce=[ke,$e],Me={key:1,class:"flex gap-1"},Te=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-refresh"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"}),e("path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"})],-1),Ae={key:2,class:"bg-white rounded-xl"},je={class:"p-4 py-8"},Ne=B('<div class="flex justify-center mb-4"><svg xmlns="http://www.w3.org/2000/svg" width="72" height="72" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-zoom-exclamation"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path><path d="M21 21l-6 -6"></path><path d="M10 13v.01"></path><path d="M10 7v3"></path></svg></div>',1),Se={class:"text-center text-lg font-medium mb-4"},Be={__name:"ProductsTable",props:["rows","filters"],setup(g){var c,p;const w=g,v=h(!1),d=h({search:(c=w.filters)==null?void 0:c.search,page:(p=w.filters)==null?void 0:p.page}),y=D(()=>{v.value=!0,d.value.search||delete d.value.search,x()},1e3),x=()=>{const t=window.location.pathname;Z.visit(t,{method:"get",data:d.value})},M=()=>{d.value.search=null,delete d.value.search,x()},f=h(!1),i=I({page:d.value.page??1}),N=h("/sync_products"),A=async()=>{try{f.value=!0,i.post(N.value,{onFinish:t=>{f.value=!1}})}catch(t){console.log(t)}};return(t,_)=>(o(),r(j,null,[e("div",{class:C(["flex mb-6 mt-6 items-center",[g.rows.data.length?"justify-between":"justify-end"]])},[g.rows.data.length?(o(),r("div",ee,[te,z(e("input",{onInput:_[0]||(_[0]=(...u)=>n(y)&&n(y)(...u)),"onUpdate:modelValue":_[1]||(_[1]=u=>d.value.search=u),type:"text",class:"outline-none px-4 w-full",placeholder:t.$t("Search Product")},null,40,se),[[O,d.value.search]]),v.value===!1&&d.value.search?(o(),r("button",{key:0,onClick:M,type:"button",class:"pr-2"},ae)):b("",!0),v.value?(o(),r("span",le,ie)):b("",!0)])):b("",!0),e("button",{onClick:_[2]||(_[2]=u=>A()),class:C(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",[{"opacity-50":f.value}]]),disabled:f.value},[f.value?(o(),r("svg",de,me)):(o(),r("span",fe,[pe,e("span",null,a(t.$t("Sync Product")),1)]))],10,ne)],2),g.rows.data.length?(o(),T(L,{key:0,rows:g.rows},{default:s(()=>[l(U,null,{default:s(()=>[l(W,null,{default:s(()=>[l(k,{position:"first"},{default:s(()=>[m(a(t.$t("S.No")),1)]),_:1}),l(k,null,{default:s(()=>[m(a(t.$t("Image")),1)]),_:1}),l(k,null,{default:s(()=>[m(a(t.$t("Name")),1)]),_:1}),l(k,null,{default:s(()=>[m(a(t.$t("Price")),1)]),_:1}),l(k,null,{default:s(()=>[m(a(t.$t("Retailer ID")),1)]),_:1}),l(k,null,{default:s(()=>[m(a(t.$t("Product Id")),1)]),_:1}),l(k,null,{default:s(()=>[m(a(t.$t("Synced at")),1)]),_:1})]),_:1})]),_:1}),l(R,null,{default:s(()=>[(o(!0),r(j,null,S(g.rows.data,(u,V)=>(o(),T(q,{key:V},{default:s(()=>[l($,{position:"first",class:"capitalize"},{default:s(()=>[m(a(V+1),1)]),_:2},1024),l($,{class:"hidden sm:table-cell"},{default:s(()=>[u.image?(o(),r("img",{key:0,src:u.image,alt:"",class:"w-20 h-20 rounded-full dark:bg-gray-500"},null,8,he)):b("",!0)]),_:2},1024),l($,{class:"hidden sm:table-cell"},{default:s(()=>[m(a(u.name),1)]),_:2},1024),l($,{class:"hidden sm:table-cell"},{default:s(()=>[m(a(u.price),1)]),_:2},1024),l($,{class:"hidden sm:table-cell"},{default:s(()=>[m(a(u.retailer_id),1)]),_:2},1024),l($,{class:"hidden sm:table-cell"},{default:s(()=>[m(a(u.product_id),1)]),_:2},1024),l($,{class:"hidden sm:table-cell"},{default:s(()=>[m(a(u.synced_at),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["rows"])):b("",!0),g.rows.data.length==0&&!d.value.search?(o(),r("div",ge,[e("div",ve,[_e,e("h3",be,a(t.$t("You don't have any Products")),1),e("div",we,[e("button",{onClick:_[3]||(_[3]=u=>A()),class:C(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",[{"opacity-50":f.value}]]),disabled:f.value},[f.value?(o(),r("svg",xe,Ce)):(o(),r("span",Me,[Te,e("span",null,a(t.$t("Sync Product")),1)]))],10,ye)])])])):b("",!0),g.rows.data.length==0&&d.value.search?(o(),r("div",Ae,[e("div",je,[Ne,e("h3",Se,a(t.$t("No Products Found")),1)])])):b("",!0)],64))}},Ve={class:"bg-white md:bg-inherit pt-10 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] h-full md:overflow-y-auto"},Pe={class:"flex justify-between"},Fe={class:"text-xl mb-1"},Ie={class:"mb-6 flex items-center text-sm leading-6"},Ze={class:"ml-1 mt-1"},ze={key:0,class:"w-full px-2 sm:px-0"},Oe=["href"],He={key:1,class:"py-2.5 block"},De={key:1,class:"border flex items-center justify-between p-2 rounded w-full"},Le=e("h1",null,"Add a Catalog to View Products, Orders, Settings & Webhook.",-1),Ue={class:"mt-5 grid grid-cols-1 gap-x-6 gap-y-4"},We={class:"mt-4 flex"},Re=["disabled"],qe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},Ee=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),Ye=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),Ge=[Ee,Ye],Je={key:1},Ct={__name:"Index",props:["rows","filters","title","catalog_id"],setup(g){const w=g,v=h(!1),d=h([{name:"Products",url:"/ecommerce/products"},{name:"Orders",url:"/ecommerce/orders"},{name:"Settings",url:"/ecommerce/settings"},{name:"Webhook",url:"/ecommerce/webhook"}]),y=h("/store/catalog"),x=h("post"),M=h("Add Catalog"),f=w.catalog_id?h(!0):h(!1),i=I({catalog_id:null}),N=(c,p={})=>{M.value=F("Add Catalog"),y.value="/store/catalog",x.value="post",c?(M.value=F("Add Catalog"),y.value="/store/catalog/"+c.id,x.value="put",i.catalog_id=c.catalog_id,v.value=!0):(i.catalog_id=null,i.errors.catalog=null,v.value=!0)},A=()=>{if(i.processing=!0,!i.catalog_id)return i.catalog_id||(i.errors.catalog="This Field is required"),i.processing=!1,!1;x.value==="post"?i.post(y.value,{onFinish:()=>{i.processing=!1,v.value=!1,f.value=!!w.catalog_id}}):i.put(y.value,{onFinish:()=>{v.value=!1}})};return(c,p)=>(o(),T(H,null,{default:s(()=>[e("div",Ve,[e("div",Pe,[e("div",null,[e("h2",Fe,a(c.$t("WhatsApp eCommerce Catalog")),1),e("p",Ie,[e("span",Ze,a(c.$t("Integrate and manage your WhatsApp catalogs")),1)])])]),n(f)==!0?(o(),r("div",ze,[l(n(X),{selectedIndex:0},{default:s(()=>[l(n(G),{class:"flex space-x-1 rounded-xl text-white bg-primary p-1 max-w-md"},{default:s(()=>[(o(!0),r(j,null,S(d.value,t=>(o(),T(n(J),{as:"template",key:t.name},{default:s(({selected:_})=>[e("button",{class:C(["w-full rounded-lg text-sm font-medium leading-5","  focus:outline-none ",_?"bg-white shadow text-black":"hover:bg-white/[0.12] hover:text-white"])},[t.name!="Products"?(o(),r("a",{key:0,href:t.url,class:"py-2.5 block"},a(t.name),9,Oe)):(o(),r("span",He,a(t.name),1))],2)]),_:2},1024))),128))]),_:1}),l(n(K),{class:"mt-2"},{default:s(()=>[(o(!0),r(j,null,S(d.value,t=>(o(),T(n(Q),null,{default:s(()=>[l(Be,{rows:w.rows,filters:w.filters},null,8,["rows","filters"])]),_:1}))),256))]),_:1})]),_:1})])):n(f)==!1?(o(),r("div",De,[Le,e("button",{onClick:p[0]||(p[0]=t=>N()),class:"rounded-md bg-primary px-3 py-2 text-sm text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},a(c.$t("Add Catalog")),1)])):b("",!0)]),l(E,{label:M.value,isOpen:v.value},{default:s(()=>[e("div",Ue,[e("form",{onSubmit:p[3]||(p[3]=P(t=>A(),["prevent"])),class:"grid gap-x-6 gap-y-4 sm:grid-cols-6"},[l(Y,{modelValue:n(i).catalog_id,"onUpdate:modelValue":p[1]||(p[1]=t=>n(i).catalog_id=t),error:n(i).errors.catalog,name:c.$t("Catalog Id"),type:"text",class:C("sm:col-span-6"),disabled:x.value==="put"},null,8,["modelValue","error","name","disabled"]),e("div",We,[e("button",{type:"button",onClick:p[2]||(p[2]=P(t=>v.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},a(c.$t("Cancel")),1),e("button",{class:C(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":n(i).processing}]),disabled:n(i).processing},[n(i).processing?(o(),r("svg",qe,Ge)):(o(),r("span",Je,a(c.$t("Save")),1))],10,Re)])],32)])]),_:1},8,["label","isOpen"])]),_:1}))}};export{Ct as default};

import{r,e as H,f as B,o as w,a as e,t as i,h as l,g as R,u as G,i as Q,c as I,w as S,v as j,j as O,b as q,x as X,ad as Z,ae as J}from"./app-03263d9c.js";import{_ as K}from"./App-93f94ba2.js";import{_ as p}from"./FormInput-bb9f5607.js";import{_ as L}from"./FormSelect-34d68940.js";import{t as A}from"./index-17bda2d1.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";import"./Sidebar-0e13a0ad.js";import"./Menu-009aab99.js";import"./Modal-d968cb5e.js";import"./transition-2742b54b.js";import"./hidden-d73b7354.js";import"./use-text-value-74ca2016.js";import"./micro-task-89dcd6af.js";import"./ProfileModal-89ff529e.js";import"./FormPhoneInput-429004f0.js";/* empty css                      */import"./tabs-7065b218.js";import"./LangToggle-fadca48b.js";import"./index-dc901c6e.js";import"./MobileSidebar-ac141bfc.js";/* empty css              */import"./pusher-772b6102.js";const u=g=>(Z("data-v-168d2ce5"),g=g(),J(),g),z={class:"bg-white md:bg-inherit pt-0 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] h-full overflow-y-scroll"},ee={class:"md:flex justify-between hidden"},te={class:"text-xl mb-1"},oe={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},se=u(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),ae={class:"ml-1 mt-1"},ie={class:"space-x-2 flex items-center"},ne={class:"flex flex-col sm:flex-row gap-6"},le={class:"md:w-3/5 border rounded bg-gray-100 p-4"},de={class:"border-b py-5"},re={class:"text-sm tracking-[0px] font-semibold"},pe={class:"grid gap-4 sm:grid-cols-2"},ue={class:"border-b py-5"},me={class:"text-sm tracking-[0px] font-semibold"},ce={class:"grid gap-4 sm:grid-cols-2"},ge=u(()=>e("label",{for:"name",class:"block text-sm leading-6 text-gray-900"},"Welcome Message",-1)),he=u(()=>e("label",{for:"name",class:"block text-sm leading-6 text-gray-900"},"Secondary Message",-1)),be={class:"border-b py-5"},_e={class:"text-sm tracking-[0px] font-semibold"},we={class:"grid gap-4 sm:grid-cols-2"},ve={class:"py-6"},fe={type:"submit",class:"float-right flex items-center space-x-4 rounded-md bg-black px-3 py-2 text-sm text-white shadow-sm hover:bg-slate-600"},ye={class:"md:w-2/5 border rounded bg-gray-100 p-4"},xe={class:"whatsapp-popup",style:{width:"350px"}},Ce={class:"whatsapp-popup-header flex items-center"},Ve=["src"],ke={class:"font-semibold"},$e={class:"text-sm"},Te={class:"whatsapp-popup-body"},We={class:"message bot"},Me={class:"message bot"},Be={class:"button-container mt-4"},Ie={class:"px-4 py-2 bg-green-500 text-white rounded"},Se={class:"px-4 py-2 bg-green-500 text-white rounded"},je={class:"px-4 py-2 bg-green-500 text-white rounded"},Oe=u(()=>e("div",{class:"powered-by"},null,-1)),qe={class:"modal-content"},Ae=u(()=>e("h2",null,"Your WhatsApp Widget Code",-1)),Ne=u(()=>e("p",null,"Copy and paste this code in your website header, just before the closing body tag of your website:",-1)),Ue={class:"widget-code"},De={id:"scriptCode"},Ee=u(()=>e("button",null,"Copy Code",-1)),Fe=[Ee],Pe={__name:"WhatsAppWidget",props:{widget:{type:Object,default:()=>({business_name:"",whatsapp_number:"",status_message:"",profile_image:"",position:"",welcome_message:"",secondary_message:"",button1:"",button2:"",button3:""})}},setup(g){var f,y,x,C,V,k,$,T,W,M;const n=g;n.widget;const N=s=>{const o=s.target.files[0],d=new FormData;d.append("profile_image",o),X.post("/tools/whatsapp-widget/upload-profile-image",d,{headers:{"Content-Type":"multipart/form-data"}}).then(m=>{document.getElementById("previewImg").src="../uploads/whatsapp_widget/"+m.data+"?"+new Date().getTime()})},U=r("whatsappwidget"),b=r("");r("right");const D=r([{value:"right",label:A("Bottom Right")},{value:"left",label:A("Bottom Left")}]);r(!1);const _=r(!1),t=r({businessName:((f=n.widget)==null?void 0:f.business_name)??"",phone:((y=n.widget)==null?void 0:y.whatsapp_number)??"",subHeading:((x=n.widget)==null?void 0:x.status_message)??"",profileImage:((C=n.widget)==null?void 0:C.profile_image)??"",position:((V=n.widget)==null?void 0:V.widget_position)??"",mainMessage:((k=n.widget)==null?void 0:k.welcome_message)??"",subMessage:(($=n.widget)==null?void 0:$.secondary_message)??"",buttonOne:((T=n.widget)==null?void 0:T.button1)??"",buttonTwo:((W=n.widget)==null?void 0:W.button2)??"",buttonThree:((M=n.widget)==null?void 0:M.button3)??""}),E=async()=>{try{await new Promise(c=>setTimeout(c,1e3));const s=new FormData;Object.entries(t.value).forEach(([c,h])=>{s.append(c,h)});const o=Object.entries(t.value).map(([c,h])=>(c==="profileImage"&&(h=`${window.location.origin}/uploads/whatsapp_widget/${h}`),`${c}=${encodeURIComponent(h)}`)).join("&"),d=window.location.origin;b.value=`<!-- WhatsApp Chat Widget Code -->
<script src="${d}/tools-scripts/widget/whatsapp-popup.js?${o}"><\/script>`,_.value=!0,console.log(t.value.profileImage);const m=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),a=await fetch("/tools/save-whatsapp-widget",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":m},body:JSON.stringify(t.value)});if(!a.ok)throw new Error("Failed to save form data");const P=await a.json();console.log("Form data saved successfully:",P)}catch(s){console.error("Error submitting form:",s)}},v=()=>{_.value=!1,removeWhatsAppWidget()},F=()=>{const s=b.value;navigator.clipboard.writeText(s).then(()=>{const o=document.querySelector(".copy-btn button");o.textContent="Copied",setTimeout(()=>{o.textContent="Copy Code"},3e3)}).catch(o=>{console.error("Error copying code: ",o)})};return(s,o)=>(w(),H(K,null,{default:B(()=>{var d,m;return[e("div",z,[e("div",ee,[e("div",null,[e("h1",te,i(s.$t("WhatsAppWidget")),1),e("p",oe,[se,e("span",ae,i(s.$t("Generate your WhatsApp widget free of cost")),1)])]),e("div",ie,[l(G(Q),{href:"/tools",class:"md:block hidden rounded-md bg-indigo-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:B(()=>[R(i(s.$t("Back")),1)]),_:1})])]),e("div",ne,[e("div",le,[U.value==="whatsappwidget"?(w(),I("form",{key:0,onSubmit:o[9]||(o[9]=O(a=>E(),["prevent"])),class:"w-full bg-white py-5 px-5 rounded-bl-[0.5rem] rounded-br-[0.5rem]"},[e("div",de,[e("h3",re,i(s.$t("Basic Information")),1),e("div",pe,[l(p,{required:"",modelValue:t.value.businessName,"onUpdate:modelValue":o[0]||(o[0]=a=>t.value.businessName=a),name:s.$t("Business Name"),type:"text"},null,8,["modelValue","name"]),l(p,{required:"",modelValue:t.value.phone,"onUpdate:modelValue":o[1]||(o[1]=a=>t.value.phone=a),name:s.$t("WhatsApp Number"),type:"text"},null,8,["modelValue","name"]),l(p,{required:"",modelValue:t.value.subHeading,"onUpdate:modelValue":o[2]||(o[2]=a=>t.value.subHeading=a),name:s.$t("Status Message"),type:"text",class:"sm:col-span-2"},null,8,["modelValue","name"]),l(p,{required:!((d=n.widget)!=null&&d.profile_image),name:s.$t("Profile Image"),type:"file",onChange:N},null,8,["required","name"]),l(L,{required:"",modelValue:t.value.position,"onUpdate:modelValue":o[3]||(o[3]=a=>t.value.position=a),name:s.$t("Widget Position"),options:D.value},null,8,["modelValue","name","options"])])]),e("div",ue,[e("h3",me,i(s.$t("Chat Configuration")),1),e("div",ce,[ge,S(e("textarea",{"onUpdate:modelValue":o[4]||(o[4]=a=>t.value.mainMessage=a),required:"",class:"sm:col-span-2 border h-32 rounded p-2 w-full"},null,512),[[j,t.value.mainMessage]]),he,S(e("textarea",{id:"subMessage","onUpdate:modelValue":o[5]||(o[5]=a=>t.value.subMessage=a),required:"",class:"sm:col-span-2 h-22 w-full border rounded-md p-2"},null,512),[[j,t.value.subMessage]])])]),e("div",be,[e("h3",_e,i(s.$t("Quick Reply Buttons")),1),e("div",we,[l(p,{required:"",modelValue:t.value.buttonOne,"onUpdate:modelValue":o[6]||(o[6]=a=>t.value.buttonOne=a),name:s.$t("Button 1"),type:"text",class:"sm:col-span-2"},null,8,["modelValue","name"]),l(p,{modelValue:t.value.buttonTwo,"onUpdate:modelValue":o[7]||(o[7]=a=>t.value.buttonTwo=a),name:s.$t("Button 2"),type:"text",class:"sm:col-span-2"},null,8,["modelValue","name"]),l(p,{modelValue:t.value.buttonThree,"onUpdate:modelValue":o[8]||(o[8]=a=>t.value.buttonThree=a),name:s.$t("Button 3"),type:"text",class:"sm:col-span-2"},null,8,["modelValue","name"])])]),e("div",ve,[e("button",fe,i(s.$t("Generate Widget Code")),1)])],32)):q("",!0)]),e("div",ye,[e("div",xe,[e("div",Ce,[e("img",{id:"previewImg",src:t.value.profileImage?"../uploads/whatsapp_widget/"+t.value.profileImage:(m=n.widget)!=null&&m.profile_image?"../uploads/whatsapp_widget/"+n.widget.profile_image:"",alt:"Profile Image Preview",class:"w-16 h-16 rounded-full object-cover mr-4"},null,8,Ve),e("div",null,[e("h4",ke,i(t.value.businessName||"Bulkwise Automations"),1),e("p",$e,i(t.value.subHeading||"Typically replies within 15 minutes"),1)])]),e("div",Te,[e("div",We,i(t.value.mainMessage||"Hello! How can we help you today?"),1),e("div",Me,i(t.value.subMessage||"Select an option below or type your message"),1),e("div",Be,[e("button",Ie,i(t.value.buttonOne||"Get a Quote"),1),e("button",Se,i(t.value.buttonTwo||"Make an Order"),1),e("button",je,i(t.value.buttonThree||"Ask a Question"),1)])]),Oe])])]),_.value?(w(),I("div",{key:0,class:"modal-overlay",onClick:O(v,["self"])},[e("div",qe,[e("button",{class:"close-btn",onClick:v},"X"),Ae,Ne,e("div",Ue,[e("pre",De,i(b.value),1)]),e("div",{class:"copy-btn",onClick:F},Fe)])])):q("",!0)])]}),_:1}))}},ut=Y(Pe,[["__scopeId","data-v-168d2ce5"]]);export{ut as default};
